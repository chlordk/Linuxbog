<chapter id="lyd">
<para>
I dette kapitel ser vi på programmer til at håndtere lyd, dvs. 
afspille cd'er, MP3 og Ogg Vorbis.
</para>

<sect1 id="audio-cd">
<title>Afspille lyd-cd'er</title>
<indexterm><primary>Afspille lyd cd</primary></indexterm>
<indexterm><primary>audio cd</primary></indexterm>
<indexterm><primary>cd lyd</primary></indexterm>

<para>
Til Linux findes der mange programmer til at afspille lyd-cd'er. Et af de
"gamle" programmer er <command>xplaycd</command>, som findes til Red
Hat i <filename>multimedia*.rpm</filename>.
</para>

<figure ID="xplaycd-fig" FLOAT="1">
<title>xplaycd</title>
<graphic fileref="xplaycd.&magic;"  scale="60"></graphic>
</figure>

<para>
Har du installeret KDE, så findes der en glimrende cd-afspiller i 
<filename>kdemultimedia*.rpm</filename>, ved navn
<command>kscd</command>. I praksis finder du den nemmest i KDE ved at
vælge menuen <command>K-&gt;Multimedia-&gt;CD Player</command>.
Den er lige som <command>xplaycd</command> meget nem at bruge, men der
er gjort mere ud af grafik i <command>kscd</command>.
</para>

<para>
Ved at gå ind i konfigurationen (hammer og skruetrækker) kan
<ulink url="http://freedb.org/">freedb</ulink>
slås til. Så bliver titlen og nummeret vist på skærmen.
Freedb kræver at du er logget på Internet første gang du sætter cd'en i,
men efterfølgende kan du slå til, at numre skal gemmes på din harddisk
så du altid har titlerne til de cd'er du spiller.
</para>

<figure ID="kscd-fig" FLOAT="1">
<title>kscd</title>
<indexterm><primary>audio cd</primary><secondary>titler, freedb</secondary></indexterm>
<indexterm><primary>cd lyd</primary><secondary>titler, freedb</secondary></indexterm>
<graphic fileref="kscd.&magic;"  scale="60"></graphic>
</figure>

<para>
Er man ligeglad med smart grafik, og mener man at man kun vil have et
tekst-interface, så kan du være interesseret i at installere
<filename>sox*.rpm</filename>, idet den indeholder
<command>cdplay</command> og <command>cdp</command>. Reelt er det
samme program, men <command>cdp</command> starter en lille tekst-menu
op i det terminal-vindue, hvor programmet startes. Dette kan ses på
<xref linkend="cdp-fig">.
</para>

<figure ID="cdp-fig" FLOAT="1">
<title>cdp</title>
<graphic fileref="cdp.&magic;"  scale="60"></graphic>
</figure>

<para>
Du kan på <ulink
url="http://www.rawmeat.org/sections/audio/CDPlayers.php3">http://www.rawmeat.org/sections/audio/CDPlayers.php3</ulink>
finde en artikel om de forskellige cd-afspillere.
</para>

</sect1>

<sect1 id="mp3">
<title>MP3 og Ogg Vorbis</title>
<indexterm><primary>MP3</primary></indexterm>
<indexterm><primary>software patent</primary></indexterm>
<indexterm><primary>Ogg Vorbis</primary></indexterm>
<indexterm><primary>OGG</primary></indexterm>

<para>
I dette afsnit skal vi se nærmere på MP3-filer.
De fleste af os kender MP3, som er en måde at komprimere lyd-filer på 
- men vi bør nok se meget mere på Ogg Vorbis (udtales Forbis), 
som er en ny konkurrent til MP3-formatet.
</para>

<para>
Problemet med MP3 er at dette format indeholder software-patenter 
(se f.eks. <ulink
url="http://www.sslug.dk/patent/">http://www.sslug.dk/patent/</ulink>)
og derfor er det klogt at støtte alternativer såsom Ogg Vorbis, som endda kan
give samme muligheder som MP3. Se <xref linkend="ogg">.
</para>


<sect2 id="lave-mp3-og-ogg">
<title>Lave MP3- og OGG-filer</title>
<indexterm><primary>Grip</primary></indexterm>

<para>
En meget nem måde at lave MP3- eller OGG-filer på ud fra en cd-rom, er at
installere <command>grip</command>, som findes på <ulink
url="http://www.nostatic.org/grip">http://www.nostatic.org/grip</ulink>.
Grip er et grafisk program, som kan anvende programmer til at rippe
hhv. kode MP3-filer. 
</para>

<para>
En anden mulighed er at installere <command>lame</command> og
<command>cdparanoia</command> samt <command>grip</command>. Dette er
beskrevet på <ulink url="http://www.thedukeofurl.org/reviews/misc/mp3linux/">http://www.thedukeofurl.org/reviews/misc/mp3linux/</ulink>.
</para>

<para>
Det smarte ved programmet <command>grip</command> er at det automatisk
kan hente titler og cd-rom-information fra en af de store cd-rom-databaser
og derved får MP3-filerne al information om
sangene. Programmet vil køre en rip-proces (cd-rom-&gt;wav-fil) og en
MP3-kodningsproces (wav-&gt;MP3) på samme tid, og når alt er kodet,
bliver de midlertidige wav-filer automatisk slettet.
Man tager bare de filer, der skal oversættes, og de gemmes automatisk
i dit <filename>~/mp3</filename>-katalog. Har du internetadgang vil
programmet endda selv udfylde info om din cd-rom, idet den slår op i en
stor database over "alle" musik-cd-rom'er.
</para>

<figure ID="grip" FLOAT="1">
<title>Grip anvendes til at lave MP3-filer fra musik-cd-rom</title>
<graphic fileref="grip.&magic;"  scale="50"></graphic>
</figure>


<para>
Da MP3 er noget skod mht. softwarepatenter, så opfordrer vi dig til at sætte 
<command>grip</command> op til at lave OGG-filer i stedet for MP3-filer.
Dette er grip sat op til som standard i Debian.
På <xref linkend="grip-ogg1">, <xref linkend="grip-ogg1-2">, 
<xref linkend="grip-ogg2"> og 
<xref linkend="grip-ogg3"> er vist de parametre som skal være ændret under "Config". Du skal ind under "Config"->"Rip", "Config"->"MP3" og "Config"->"ID3".
</para>

<figure id="grip-ogg1" float="1">
<title>Grip sættes op til at lave OGG-filer i stedet for MP3-filer</title>
<graphic fileref="grip_ogg1.&magic;"  scale="50"></graphic>
</figure>

<figure id="grip-ogg1-2" float="1">
<title>Grip sættes op til at lave OGG-filer i stedet for MP3-filer</title>
<graphic fileref="grip_ogg1_2.&magic;"  scale="50"></graphic>
</figure

<figure id="grip-ogg2" float="1">
<title>Grip sættes op til at lave OGG-filer i stedet for MP3-filer</title>
<graphic fileref="grip_ogg2.&magic;"  scale="50"></graphic>
</figure>

<figure id="grip-ogg3" float="1">
<title>Grip sættes op til at lave OGG-filer i stedet for MP3-filer</title>
<graphic fileref="grip_ogg3.&magic;"  scale="50"></graphic>
</figure>

<sect3 id="lave-mp3-og-ogg-uden-grafik">
<title>Lave MP3 og OGG-filer med tekstbaserede værktøjer</title>
<para>
Det er ofte praktisk at kunne arbejde med tekst-baserede værktøjer
når man skal have konverteret mange filer, eller har den samme
konverteringsopgave mange gange. I stedet for at anvende grip, som vist 
ovenfor, så skal vi her se på et par tekstbaserede værktøjer til at
konvertere lyd.
</para>

<para>
En vigtig pakke man bør installere er <filename>sox</filename>, som 
indeholder programmer til at håndtere (primært) WAV-filer. Vil man spille 
en WAV-fil gøres dette med <command>play MIN-FIL.wav</command>. Tilsvarende 
kan man optage en lydfil med <command>rec MIN-fil.wav</command>.
</para>

<para>
Vil man derefter konvertere lyd-filen til MP3, så skal man installere 
<filename>lame</filename>, som kan findes på 
<ulink url="http://www.mp3dev.org/mp3/">http://www.mp3dev.org/mp3/</ulink>.
Vil man konvertere en wav-fil i mono, og få en MP3-fil, så anvendes
<command>lame MIN-FIL.wav MIN-FIL.mp3</command>. Vil man have stereo og
meget god kvalitet, så kan man tilføje lidt flere argumenter til 
kommandoen;
<command>lame -b 160 m stereo MIN-FIL.wav MIN-FIL.mp3</command>.
</para>

<para>
Vil du hellere anvende OGG-formatet (dette kan anbefales), 
så læs <xref linkend="ogg">, hvor det gennemgås mere om hvordan man koder 
til OGG-format - den korte version er at man kører 
<command>oggenc MIN-FIL.wav</command> og får <filename>MIN-FIL.ogg</filename>
som resultat.
</para>


<para>
Hvis man får en fejlmeddelelse under MP3/OGG-kodning om at 8-bit lydfiler
ikke understøttes, så skal man konvertere (b står for byte=8 bit, d for word=16 bit); <command>sox -b strong.wav -d strong2.wav</command>.
</para>


</sect3>

</sect2>

<sect2 id="afspille-mp3">
<title>Afspille MP3-filer</title>
<para>
En rigtig god MP3- og Ogg Vorbis- (.ogg) 
afspiller er xmms, som kommer med de fleste
Linux-distributioner, ellers kan den hentes fra 
<ulink url="http://www.xmms.org">http://www.xmms.org</ulink>.
</para>

<indexterm><primary>xmms</primary></indexterm>


<indexterm><primary>Mp3-filer</primary>
 <secondary>Afspille med xmms</secondary></indexterm>


<indexterm><primary>Ogg-filer</primary>
 <secondary>Afspille med xmms</secondary></indexterm>

<para>
Programmet <command>xmms</command> har nærmest alt hvad man kan ønske
sig. Designet af programmet har været meget åbent, så man "nemt" har
kunnet bidrage med plug-ins af forskellig art, og tilsvarende med
"skins", dvs. med nye måder programmet kan se ud på. På <ulink
url="http://www.xmms.org/skins.html">http://www.xmms.org/skins.html</ulink>
kan man finde rigtig mange nye skins. På <xref linkend="xmms-fig"> og
<xref linkend="xmms2-fig"> kan man se to forskellige skins. Skins skal
hentes hjem og udpakkes under
<filename>./xmms/Skins/NYTSKINNAVN</filename>, med enten
<command>unzip ZIP-fil.zip</command> eller 
<command>tar xzvf TARGZ-fil.tar.gz</command>. Med
<command>Alt-s</command> vælges mellem de forskellige skins.
</para>

<para>
Xmms har også muligheden for at huske spille-lister, dvs. lister af
melodier, som styres fra det panel, der kommer frem ved at trykke på 
"PL". Ellers styres <command>xmms</command> som en almindelig 
CD-afspiller eller kassette-radio, dvs. frem, tilbage, stop og pause.
En sød lille "feature" fås ved at maksimere programmet. Derved bliver
afspilleren meget diskret på din desktop.
</para>

<figure ID="xmms-fig" FLOAT="1">
<title>xmms afspiller MP3-filer</title>
<graphic fileref="xmms.&magic;"  scale="60"></graphic>
</figure>

<figure ID="xmms2-fig" FLOAT="1">
<title>xmms med et andet skin</title>
<graphic fileref="xmms2.&magic;"  scale="60"></graphic>
</figure>


<indexterm><primary>KDE-problem med XMMS</primary></indexterm>
<indexterm><primary>XMMS</primary>
 <secondary>KDE-problem med lyd</secondary></indexterm>

<para>
<emphasis>Tip:</emphasis>
Hvis du har problemer med lyd i KDE, når du bruger XMMS, så prøv følgende:
"Højre mus" -&gt; "Funktioner" -&gt; "Indstillinger" -&gt;
"Uddata-indstik". Prøv at vælge "aRts Driver" i stedet
for "OSS".
</para>

<para>
<emphasis>Tip:</emphasis>
Endelig kan et godt trick nævnes, hvis du er interesseret i at skære en
MP3-fil op i mindre dele. I det følgende eksempel skipper vi de første
1200 kb af MP3-filen og tager et udsnit på 15 kb. Hvis
man kender fil-størrelsen eller bitraten kan man
relativt nemt skære filer til på denne måde.  
</para>


<screen>
<prompt>[anne@linus ~]$ </prompt><userinput>dd if=DIN_FIL.mp3 of=NY_FIL.mp3 bs=1c skip=1200k count=15k</userinput>
</screen>

<para>
<emphasis>Tip:</emphasis> på 
<ulink url="http://LinuxFocus.org/English/March2001/article178.shtml">http://LinuxFocus.org/English/March2001/article178.shtml</ulink> kan du læse mere 
om konvertering af lyd til MP3 i real-tid.
</para>

</sect2>

<sect2 id="ogg">
<title>Ogg Vorbis</title>
<indexterm><primary>Ogg Vorbis</primary></indexterm>

<para> 
På <ulink url="http://www.vorbis.com">http://www.vorbis.com</ulink>
kan du hente programmer og biblioteker både til Linux og f.eks. Windows.
Du skal have - se <ulink
url="http://www.vorbis.com/download_unix.html">http://www.vorbis.com/download_unix.html</ulink>
- <filename>vorbis-tools-*.rpm</filename>,
<filename>libao-*.rpm</filename>, <filename>libogg-*.rpm</filename> og
<filename>libvorbis-*.rpm</filename>.
</para>

<para>
Til at kode <filename>.wav</filename>-filer
over til <filename>.ogg</filename>-filer (svarer til MP3-filer) gør du følgende:
</para>

<screen>
<prompt>[anne@linus ~]$ </prompt><userinput>oggenc -o FILNAVN.ogg -a MUSIKER -t TITEL -l STED FILNAVN.wav</userinput>
</screen>

<para> 
Har du en stereo Wave-fil (.wav) hvis indhold reelt er i mono (f.eks.et
foredrag), så kan du spare pladsen
ved at lave en mono-udgave af ogg-filen ved at køre 
filen igennem <command>sox</command> først. I dette 
eksempel er der ikke anført musiker-navn og optage-sted 
som i det ovenstående.
</para>

<screen>
<prompt>[anne@linus ~]$ </prompt><userinput>cat foo.wav | sox -t wav - -c 1 -t wav - | oggenc - > foo.ogg</userinput>
</screen>


<para>
Filerne kan spilles enten med <command>freeamp</command> eller
<command>xmms</command>. <command>xmms</command> kræver dog at du har
installeret <filename>libogg</filename> og
<filename>libvorbis</filename>.
</para>

<para>
<indexterm><primary>Streame lyd</primary></indexterm>
<emphasis>Tip:</emphasis> har du brug for en streaming-server til OGG-filer, 
så se mere på <ulink url="http://www.icecast.org">http://www.icecast.org</ulink>. Alternativt kan man på 
<ulink url="http://media.tangent.org">http://media.tangent.org</ulink> finde
et patch (mod_mp3) til Apache, så man kan streame MP3 eller OGG-filer.
</para>



</sect2>
</sect1>
</chapter>
