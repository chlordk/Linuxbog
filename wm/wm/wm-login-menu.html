<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Få en window manager til at optræde i KDM eller GDM menuen</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Linux - Friheden til at vælge grafisk brugergrænseflade"
HREF="index.html"><LINK
REL="UP"
TITLE="Opsætning af valg af windowmanager"
HREF="wm-opsaetning.html"><LINK
REL="PREVIOUS"
TITLE="Opsætning af valg af windowmanager"
HREF="wm-opsaetning.html"><LINK
REL="NEXT"
TITLE="Rene WM'er"
HREF="wm-rene-wmer.html"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux - Friheden til at vælge grafisk brugergrænseflade: Version 1.2.20050118
 - 25/02-2012&#13;</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="wm-opsaetning.html"
ACCESSKEY="P"
>forrige</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Kapitel 2. Opsætning af valg af windowmanager</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="wm-rene-wmer.html"
ACCESSKEY="N"
>næste</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="wm-login-menu"
>2.2. Få en window manager til at optræde i KDM eller GDM menuen</A
></H1
><P
>&#13;Siden det nu er søndag er der lidt ekstra guf. I stedet for at sætte sin yndlings window manager ind i sin .xsession og vælge default, kan det være smart at sætte den ind i den menu, der vises i KDM eller GDM, så man kan vælge den derfra.</P
><P
>&#13;Der kan være forskelle på de forskellige distributioner. Eksemplerne
herunder er baseret på Red Hat. Vi håber der kan være til hjælp og
inspiration også for dem der ikke kører Red Hat.</P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="wm-kdm-eller-gdm"
>2.2.1. Kører jeg kdm eller gdm?</A
></H2
><P
>&#13;Først må man finde ud af om man kører kdm eller gdm. Dette kan gøres ved
at se, om der kører en proces der hedder kdm eller gdm.
</P
><PRE
CLASS="screen"
>&#13;$ ps ax |grep kdm
1181 ?        S      0:00 /usr/bin/kdm -nodaemon
2431 pts/4    S      0:00 grep kdm
$ ps ax |grep gdm
2433 pts/4    S      0:00 grep gdm
</PRE
><P
>&#13;Her kører vi kdm. Hvis vi kørte gdm, var det <B
CLASS="command"
>ps ax |grep gdm</B
>
der var kommet output ud af.
</P
><P
>&#13;Der er også forskel på hvordan de ser ud. Der kan være forskel fra
distribution til distribution, men her er screen shots fra Red Hat:
</P
><DIV
CLASS="figure"
><A
NAME="kdm-fig"
></A
><P
><B
>Figur 2-3. KDM</B
></P
><P
><IMG
SRC="kdm.png"></P
></DIV
><P
>&#13;Og her er fra gdm:</P
><DIV
CLASS="figure"
><A
NAME="choosesession1-shot-crop-fig"
></A
><P
><B
>Figur 2-4. GDM</B
></P
><P
><IMG
SRC="choosesession1_shot_crop.png"></P
></DIV
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="wm-gdm"
>2.2.2. GDM</A
></H2
><P
>&#13;Hvis du kører GDM er det nemt at sætte den nye Window manager ind
i menuen:</P
><P
>&#13;Når du er tilfreds med din <TT
CLASS="filename"
>$HOME/.xsession</TT
> kan den kopieres til
<TT
CLASS="filename"
>/etc/X11/gdm/Sessions/WMNAME</TT
>.</P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="wm-kdm"
>2.2.3. KDM</A
></H2
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="wm-kdm-login-menu"
>2.2.3.1. At få den nye window manager til at optræde i menuen</A
></H3
><P
>&#13;Det er nemt nok at få kdm til at vise et nyt menupunkt.
Åbn filen <TT
CLASS="filename"
>/etc/X11/xdm/kdmrc</TT
> med en editor. (Kan ligge andre steder på
andre distributioner).</P
><P
>&#13;Find linjen "SessionTypes" og indsæt navnet på din nye window
manager:
</P
><P
>&#13;<TT
CLASS="filename"
>SessionTypes=default,kde,failsafe,gnome,icewm,qvwm</TT
>
</P
><P
>&#13;Dette får imidlertid kun kdm til at vise menupunktet. Man skal selv
sørge for at der sker det rigtige, når man vælger det fra menuen.
</P
></DIV
><DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="wm-kdm-login-menu-start-ny-wm"
>2.2.3.2. At få det nye menupunkt til at starte den nye window manager</A
></H3
><P
>&#13;Hvis man kører KDM på Red Hat og har switchdesk installeret, skal man
blot kopiere sin .xsession til /usr/share/apps/switchdesk/ og kalde den
Xclients.icewm eller Xclients.qvwm eller hvad man nu har sat ind i sin
.kdmrc for et navn. Den skal måske helst have permissions 755 (kig på de
filer der ligger der i forvejen.</P
><P
>&#13;Hvis man ikke kører Red Hat med switchdesk installeret, skal man sætte
sin nye Window Manager ind i det case statement, der findes i filen
<TT
CLASS="filename"
>/etc/X11/xdm/Xsession</TT
> (kan ligge andre steder på andre
systemer).
</P
><PRE
CLASS="screen"
>&#13;case $1 in
    failsafe)
       exec -l $SHELL -c "xterm -geometry 80x24-0-0"
       ;;
    gnome)
       exec -l $SHELL -c "gnome-session"
       ;;
    kde|kde1|kde2)
       exec -l $SHELL -c "/usr/share/apps/switchdesk/Xclients.kde"
       ;;
    twm)
        # fall back to twm
       exec -l $SHELL -c "/usr/share/apps/switchdesk/Xclients.twm"
       ;;
    icewm)
        # Her har jeg indsat icewm
       exec /usr/X11R6/bin/icewm
       ;;
    qvwm)
        # Her har jeg indsat qvwm
       exec /usr/local/bin/qvwm
       ;;
    esac
</PRE
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="wm-opsaetning.html"
ACCESSKEY="P"
>forrige</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>hjem</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="wm-rene-wmer.html"
ACCESSKEY="N"
>næste</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Opsætning af valg af windowmanager</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="wm-opsaetning.html"
ACCESSKEY="U"
>op</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Rene WM'er</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>