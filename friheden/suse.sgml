<!-- $Id$ -->
<chapter id="installsuse">
<title>Installation af SuSE Linux</title>
<indexterm><primary>SuSE</primary></indexterm>


<para>
SuSE Linux version 7.2 installeres og konfigureres ved hjælp af det
medfølgende systemværktøj, YaST2 (Yet another System Tool - version 2).
YaST overflødiggør i udstrakt grad nødvendigheden
af tidligere tiders nøjagtige kendskab til alle mulige
opsætningsværktøjer og -filer. Du slipper f.eks. for at skulle
anvende fdisk til at skabe partitionerne, idet YaST har et fornuftigt
brugerinterface til dette.
</para>

<para>
SuSE Linux findes i to udgaver. En officiel købeversion med seks
cd-rom'er, som indeholder over 1500 programpakker og en trykt
engelsksproget manual på ca. 500 sider. Dette gør SuSE til den
Linux-distribution, der har de fleste programmer og værktøjer med. Der
findes også en evaluation version på en cd-rom. Ordet "evaluation"
betyder i denne sammenhæng ikke noget med, at man kun må bruge den i
begrænset tid eller andet. En SuSE evaluation cd-rom svarer i
omfang og niveau til en Red Hat enkelt-cd-rom version.  
Installationen af den officielle
er ikke meget forskellig fra evalueringsudgaven, men der er
selvfølgelig meget mere med den store officielle købeversion.
</para>



<sect1 id="susehardware">
<title>Hardwarekrav</title>
<para>
SuSE Linux stiller følgende krav til hardware:
</para>
<itemizedlist mark="bullet" spacing="compact">
<listitem>
 <para>
   En Intel 32 bit-kompatibel CPU (80386 eller senere). Der er
   efterhånden god understøttelse af andre mærker end Intel,
   f.eks. AMD.
 </para>
</listitem>
<listitem>
 <para>
   Mindst 8 Mb RAM, men 16 Mb eller derover anbefales.
 </para>
</listitem>
<listitem>
 <para>
   30 Mb fri diskplads, men vil du bruge det til noget reelt, bør du
   regne med 150 Mb - mindst! Det koster at installere alle de
   programmer, og 500 Mb - 1 Gb er ikke et dårligt udgangspunkt.
 </para>
</listitem>
</itemizedlist>
</sect1>

<sect1 id="suseinstall">
<title>Installationsvejledning</title>


<para>
Installationen af SuSE er kraftigt automatiseret i programmet
YaST2. Det er fristende at påstå, at det er så let, så selv et tiårs
barn kan klare det. For at se om det er rigtigt, havde jeg
indforskrevet et sådant barn (Michael), og jeg holdt mig til at læse
skærmteksterne op på dansk for ham.  YaST eksisterer desværre ikke i
en dansk oversættelse, en kraftig mangel.
</para>

<para>
Ved boot fra CD startes YaST2 automatisk, og som det første skal man
vælge sprog til YaST selv.  
</para>

<FIGURE ID="Yast2-1-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_1.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para>
Brug af knapper og rulleskakten gik helt af sig selv, og valget af
sprog/tidszone i skærmen herunder forløb også uden problemer. Den
krævede dog en smule forklaring om solens gang.  
</para>

<FIGURE ID="Yast2-2-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_2.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>



<para>
Faktisk forløb valget i alle de følgende skærme helt uproblematisk, da
først teksterne blev oversat.
</para>

<para>
At der var tale om en ny installation lå helt klart.
</para>

<FIGURE ID="Yast2-3-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_3.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>

<para>
Og at vi skulle holde os fra at rode med partitioneringen var også
hurtigt klart nok.  
</para>

<FIGURE ID="Yast2-5-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_5.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>



<para>
At hele harddisken skulle bruges til Linux var også givet
(installationen skete på en virtuel maskine under VMware).  
</para>

<FIGURE ID="Yast2-4-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_4.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>



<para>
På dette tidspunkt opstod det første problem Hvad skal der installeres?
</para>

<FIGURE ID="Yast2-6-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_6.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>



<para>
Valget var forholdsvis enkelt, Michael var helt kold overfor tanken om
tekstbehandlere og regneark, langt mere interesseret i spillene.  For
den lidt mere voksne bruger, giver "Detailed selection" adgang til en
række standardpakker som det fremgår herunder. Det betaler sig at
vælge en eller flere af disse pakker hvis pladsen tillader det, da man
på den måde får en masse relevante valg udført både meningsfyldt og
automatisk.  
</para>

<FIGURE ID="Yast2-7-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_7.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>



<para>
I ovenstående skærm kan man med "Select single packages" få helt frit
slag mellem de mange pakker, der er med i distributionen. YaST har
løbende kontrol af konflikter og afhængighed pakkerne imellem, og
giver en god hjælp til at finde og fjerne konfliktpakker eller (med
auto) at tilføje manglende pakker.  Der sker i forbindelse med senere
ændringer i pakkerne automatisk en opdatering af relevante
konfigurationsfiler. 
</para>

<FIGURE ID="Yast2-8-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_8.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para>
Lad det være sagt med det samme: Skal man have X installeret, og har
man skærm og skærmkort til en højere opløsning end 640*480 som her
vist, er man langt bedre tjent med at vente med de individuelle valg,
til X er i gang. Skærmen herover fortjener at få lidt bedre plads
såvel i højde som bredde, og der er intet forgjort ved at vente.
</para>

<para>
Er maskinen uden andre styresystemer (som den viste), får man lidt
overflødigt dette at vide, sammen med en noget misvisende adgang til
"Custom LILO installation".  
</para>

<FIGURE ID="Yast2-9-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_9.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>



<para>
Det misvisende består i, at det faktisk er i denne skærm, man får
adgang til at lave en boot-diskette, hvilket jo kan vise sig ret
nyttigt. Michael kom dog ikke ud i de skærme...  
</para>

<FIGURE ID="Yast2-10-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_10.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>



<para>
Nu kommer det første rigtigt svære for en helt nybegynder. Der skal
oprettes en bruger.
</para>

<para>
Det er til at forklare hvad en bruger er, men i den efterfølgende
skærm skal der oplyses password for root, så det udløste en lidt
længere forklaring (En bruger er én, der kun må spille, gå på
Internettet og sådan noget. Root er den der bestemmer, hvad alle de
andre må og ikke må.  Han er trods alt kun 10 år). Havde det stakkels
barn heddet Øjvind eller Åge (der findes ikke godkendte danske
fornavne med Æ), var snakken nok blevet lidt længere. 
</para>

<FIGURE ID="Yast2-11-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_11.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para>
Valget af password til Michael var let. I skolen havde han et smart
langt et, som jeg ikke skal afsløre her, så det blev brugt.
</para>

<para>
Lidt sværere var det at finde på et til root, indtil det dér med at
"root bestemmer alt" kom op igen. Herefter var mors navn et helt
naturligt valg ;) 
</para>

<FIGURE ID="Yast2-12-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_12.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para>
Som det fremgår sørger YaST2 for at få adskilt root fra den normale
bruger helt fra start - vældig fornuftigt og pædagogisk.
</para>

<FIGURE ID="Yast2-13-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_13.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para>
Her kommer så dels en oversigt over hvad der vil ske, og en forklaring
i venstre side. Nu fanger bordet, hvis man trykker på "next", og man
derefter bekræfter det en gang til i denne dialog: 
</para>

<FIGURE ID="Yast2-14-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_14.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para>
Dette er så ubetinget den kedeligste del af installationen, der skal i
gang. Nu skal man nemlig igennem en række forskellige CD-skift med
lange pauser imellem. Under den første af dem, kommer denne noget
ubegrundede oplysning på skærmen: 
</para>

<FIGURE ID="Yast2-15-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_15.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para>
Det er slet og ret noget overflødigt nonsens. For det første vil de
fleste skulle boote fra en DOS-diskette og bruge kommandoen <command>FDISK C:
/mbr</command>, for det andet er det en oplysning, som intet har at gøre med
forløbet i installationen, den burde derfor placeres i en sluttekst
sammen med andre oplysninger om, hvad der er sket. Efter et klik på OK
og nok en infoskærm (hvor musen ikke længere kan bruges) rebootes
maskinen.
</para>

<para>
Man kan her benytte lejligheden til at ændre på boot-sekvensen til
boot fra C: i stedet for boot fra A: eller cd-rom. Dette skal gøres i
BIOS.
</para>

<para>
YaST2 starter lige på og hårdt med at bede om cd-rom nummer 2 (3,4,5,6
afhængigt af valgene tidligere).  Der skal ikke anvendes password
endnu, og der er ingen mulighed for at forhindre systemet i at
fortsætte installationen.
</para>

<para>
Det næste skærmbillede giver mulighed for at installere X. Vælger man
at gøre dette, starter Linux derefter i X.
</para>

<para>
Vælger man ikke at installere X startes der i tekst-mode. I det sidste
tilfælde kan man bruge programmet sax eller sax2 til at konfigurere
sin X, og X skal startes med kommandoen "startx".  
</para>

<FIGURE ID="Yast2-16-fig" FLOAT="1">
<TITLE>YaST2</TITLE>
<GRAPHIC FILEREF="Yast2_16.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para>
Afslutningsvis kommer en skærm, som giver adgang til at konfigurere
printer, lyd, modem og netkort.  Automatisk fundne enheder vises i
billedet. Disse opsætninger falder udenfor denne gennemgang.
</para>

<para>
Konklusionen må være, at installation med YaST2 er så let, at et tiårs
barn kan gennemføre den med meget lidt hjælp. Der er enkelte begreber
i Unix-verdenen som skal læres, men det har jo egentlig ikke noget med
installationen at gøre.
</para>

<para>
Du mangler nu at få opsat dit netkort, printer og måske andre
enheder. Dette gøres via YaST. Se mere i 
<xref linkend="systemvedligeholdelse-suse">.
</para>
</sect1>

<sect1 id="yast-lvm">
<title>Installation med LVM (SuSE 7.2/YaST2)</title>
<para>
Fra og med version 7.2 understøtter SuSEs grafiske administrationssystem LVM 
(Logical Volume Manager).
</para>

<para>
Dette afsnit ser på den del af installationen, der specifikt har med
LVM at gøre, mens resten stort set er uændret, og derfor ikke bliver
beskrevet her.
</para>

<sect2 id="Dansk-Yast-2">
<title>Dansk YaST2</title>
<para>
En enkelt (kommende) nyhed er dog værd at nævne. SuSE er gået i gang
med at oversætte YaST2 til Dansk. Endnu mangler æøåÆØÅ at blive
understøttet, ikke alt er endnu oversat, og der er ganske
meningsforstyrrende (-løse) vendinger som "Omkring installation"
(skulle være Afbryd installation), men det er alligevel dejligt, at
den udvikling er sat i gang.
</para>

<figure  id="Yast2-LVM-2-fig" float="1">
<title>YaST2</title>
<graphic fileref="Yast2_LVM_2.&magic;"  scale="60"></graphic>
</figure>


</sect2>

<sect2 id="om-LVM">
<title>Lidt om LVM</title>
<indexterm><primary>LVM</primary></indexterm>
<indexterm><primary>Logical Volume Management</primary></indexterm>

<para>
LVM arbejder med hele, primære partitioner. Det vil ikke være
misvisende, hvis du forestiller dig LVM på samme måde som sekundære
partitioner på en harddisk. En sekundær partition er ganske enkelt en
opdeling af en primær partition, og på samme måde giver LVM adgang til
at opdele en primær partition i flere områder.
</para>

<para>
For at vise forløbet, har jeg sat en virtuel VMware-maskine op med 2
harddiske, hdb og hdc (virtuelle drev på hver 2 Gb max), mens hda er en
selvstændig partition på ca. 4 Gb.
</para>

<figure  id="Yast2-LVM-3-fig" float="1">
<title>YaST2</title>
<graphic fileref="Yast2_LVM_3.&magic;"  scale="60"></graphic>
</figure>


</sect2>

<sect2 id="lvm-expert">
<title>Bliv "expert" på få minutter.</title>

<para>
Det er en smule misvisende, at LVM er dømt "for experts", det er
faktisk ganske let og ligetil at bruge det, ikke mindst takket være
YaST2. Ideen bag LVM er i al sin enkelthed, at man opretter en gruppe,
som indeholder eksisterende drev eller (primære) partitioner. Gruppen
fremtræder derefter overfor Linux som én stor harddisk, der kan
partitioneres efter behov.
</para>

<para>
De tre harddiske i eksemplet herover rummer til sammen 8 Gb, men det er
alligevel ikke muligt at oprette en partition på 5 Gb uden brug af LVM
(eller for den sags skyld to på 3 Gb hver).
</para>

<para> 
Desværre tillader Linux endnu ikke, at <filename>/</filename>
bliver placeret på en LVM-partition, men til gengæld kan man senere
ændre på størrelsen af de enkelte partitioner, når det viser sig, at
man ikke har plads nok.  
</para>

<para>
Et helt andet problem er rækkefølgen man skal gøre tingene i. Man kan
ikke bruge en LVM-partition før den er sat sammen i en gruppe, og man
kan derfor heller ikke blot køre lige igennem, men må have sat sin LVM
sammen først, vende tilbage til tidligere i forløbet, og få den
partitioneret.  Det er naturligvis lidt ekspert-agtigt, men altså til
at komme igennem.  Det ville være en fordel, hvis YaST2 ikke blot tog
LVM-delen efter partitioneringsdelen, men gav adgang via en knap til
at oprette en LVM-partition. Det er forhåbentlig noget der kommer i en
fremtidig version.
</para>


<figure  id="Yast2-LVM-4-fig" float="1">
<title>Der oprettes partitioner</title>
<graphic fileref="Yast2_LVM_4.&magic;"  scale="60"></graphic>
</figure>

<para>
På maskinen her er det ønsket, at der på hda skal være <filename>/boot</filename>, <filename>/</filename> og swap, mens hdb og hdc skal
indgå  i  LVM-gruppen. Partitioneringen af hda er ikke vist, mens oprettelsen af en partition
til brug for LVM er vist herover. Bemærk, at man ikke kan andet end at bestemme størrelsen og
reservere den til LVM-brug ved at give den type 89.
</para>

<figure  id="Yast2-LVM-5-fig" float="1">
<title>De oprettede partitioner</title>
<graphic fileref="Yast2_LVM_5.&magic;"  scale="60"></graphic>
</figure>

<para> 
Herover ses resultatet af den endelige
partitionering. <filename>/boot</filename> skal helst være over 12 Mb
(der advares hvis den er mindre), swap har jeg ikke meget at bruge til
og <filename>/</filename> (root) får så resten af hda.  Der er valgt
ext2 til <filename>/boot</filename> og ReiserFS til
<filename>/</filename>. Det sidste er også noget forholdsvis nyt, SuSE
7.0 frarådede at lægge <filename>/</filename> ud med ReiserFS, mens
7.2 ikke antyder, at det skule give problemer, hvilket det da heller
ikke endnu har gjort for mig.
</para>

<para>
Her er det så, at konflikten opstår. Man kan ikke benytte
LVM-partitionerne direkte. De skal først ind i en gruppe, og man kan
derfor heller ikke oprette partitioner til /home, /usr osv.  på dem
endnu.
</para>

<para>
Et klik på knappen [Næste] starter LVM-delen.
</para>

<figure  id="Yast2-LVM-6-fig" float="1">
<title>Opret en Virtuel Gruppe</title>
<graphic fileref="Yast2_LVM_6.&magic;"  scale="60"></graphic>
</figure>



<para>
Gruppen skal have et navn. Dette navn indgår senere i "drev"
betegnelsen (<filename>/dev/gruppenavn/</filename>), så jeg vil
anbefale at det gøres kort. "vg" synes at være et fornuftigt valg af
betegnelse.  Jeg har ikke planer om at oprette flere grupper, men på
større systemer med flere maskiner kan det måske give mening at udvide
navnet lidt.
</para>

<figure  id="Yast2-LVM-7-fig" float="1">
<title>Drevene aktiveres</title>
<graphic fileref="Yast2_LVM_7.&magic;"  scale="60"></graphic>
</figure>


<para>
Når gruppen er oprettet får man mulighed for at tilknytte de af ens
partitioner, der er af typen LVM (89). Herover er hdb1 tilknyttet mens
hdc1 er på vej til at blive det. Det er hele partitionen der
tilknyttes gruppen, og det er som tidligere nævnt kun de primære
partitioner, der overhovedet kan tilknyttes.
</para>

<figure  id="Yast2-LVM-8-fig" float="1">
<title>Partitioneringen af LVM-gruppen</title>
<graphic fileref="Yast2_LVM_8.&magic;"  scale="60"></graphic>
</figure>

<para>
Når gruppen er dannet og de enkelte partitioner er tilknyttet skal der
partitioneres. Hver partition får sit eget navn, som den herefter
optræder under (i stil med <filename>/dev/hda1</filename> og
<filename>/dev/hda2</filename>).  Det giver fin mulighed for at give
meningsfyldte navne. Når der skal oprettes en partition til /home kan
den passende komme til at hedde vg_home. Fordelen ved dette viser sig
i næste skærm, hvor jeg er vendt tilbage i forløbet til skærmen, hvor
der partitioneres.  
</para>

<figure  id="Yast2-LVM-9-fig" float="1">
<title>YaST2</title>
<graphic fileref="Yast2_LVM_9.&magic;"  scale="60"></graphic>
</figure>

<para> 
Her et det nemt og hurtigt at koble <filename>/home</filename>
og <filename>/dev/vg/vg_home</filename> sammen (altså at mounte
<filename>/dev/vg/vg_home</filename> som
<filename>/home</filename>). Specielt hvis noget går galt, har man via
navnet en mulighed for at redde hvad reddes skal (f.eks.
<filename>/home</filename>), ved ikke at reformatere partitionen, men
blot bestemme, at den igen skal mountes under /home.  
</para>

<figure  id="Yast2-LVM-10-fig" float="1">
<title>YaST2</title>
<graphic fileref="Yast2_LVM_10.&magic;"  scale="60"></graphic>
</figure>



<para>
Indtil dette tidspunkt er det muligt at gå tilbage og ændre
partitionsstørrelserne på LVM-partitionerne.  Når først de er
formaterede og fyldt med rare ting og sager skal der lidt mere til for
at ændre dem, men det emne falder uden for denne tekst.
</para>

<para>
Resten af installationen forløber som tidligere beskrevet, og er derfor ikke omtalt igen her.
</para>
</sect2>
</sect1>

</chapter>
