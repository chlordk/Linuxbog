<!-- $Id$ -->
<chapter id="suse">
<title>Installation af SuSE 8.0</title>

<!-- Skrevet af Erling Sjørlund og til dels Peter Toft -->

<indexterm><primary>SuSE</primary></indexterm>


<para>
SuSE Linux version 8.0 installeres og konfigureres ved hjælp af det
medfølgende systemværktøj, YaST2 (Yet another System Tool - version 2).
YaST2 overflødiggør i udstrakt grad nødvendigheden
af tidligere tiders nøjagtige kendskab til alle mulige
opsætningsværktøjer og -filer. Du slipper f.eks. for at skulle
anvende fdisk til at skabe partitionerne, idet YaST2 har et fornuftigt
brugerinterface til dette.
</para>

<para>
SuSE Linux 8.0 findes i to udgaver. En officiel "professional"
købeversion med 7 cd-rom'er og en DVD og en "personal" købeversion.
De to første købe-versioner indeholder over 1500 programpakker og en
trykt engelsksproget manual på ca. 500 sider. Dette gør SuSE til den
Linux-distribution, der har de fleste programmer og værktøjer med.
</para>

<para>
Der findes også en evaluationsversion på en cd-rom. Ordet "evaluation"
betyder i denne sammenhæng ikke noget med, at man kun må bruge den i
begrænset tid eller andet. En SuSE evaluation cd-rom svarer i omfang
og niveau til en meget reduceret Red Hat enkelt-cd-rom version.  I
praksis kan det kun anbefales at se på de to købe-versioner af SuSE
Linux - og de kan ikke downloades fra Internettet, men må købes f.eks.
fra <ulink url="http://www.suse.dk">http://www.suse.dk</ulink>.
</para>



<sect1 id="susehardware">
<title>Hardwarekrav til SuSE 8.0</title>
<para>
SuSE Linux stiller følgende krav til hardware:
</para>
<itemizedlist mark="bullet" spacing="compact">
<listitem>
 <para>
   En Intel 32 bit-kompatibel CPU (80386 eller senere). Der er
   efterhånden god understøttelse af andre mærker end Intel,
   f.eks. AMD.
 </para>
</listitem>
<listitem>
 <para>
   Mindst 8 Mb RAM, men 16 Mb eller derover anbefales.
 </para>
</listitem>
<listitem>
 <para>
   30 Mb fri diskplads, men vil du bruge det til noget reelt, bør du
   regne med 1.5 Gbyte. Det koster at installere alle de
   programmer, og 1.5 Gbyte - 2.5 Gbyte er ikke et dårligt udgangspunkt.
 </para>
</listitem>
</itemizedlist>
</sect1>


<sect1 ID="Generelt"><Title>Generelt om SuSE 8.0</title>
 <para>
 SuSE er med version 8.0 blevet endnu lettere at installere end
 tidligere. Du får en meget komplet samling velkonfigurerede
 programmer, og en installation, der langt hen ad vejen kører helt
 automatisk.
</para>

<figure ID="susestart" float="1">
 <title>Bootskærmen ved start fra CD</title>
 <graphic fileref="SuSE_80_01.&magic;" scale="60"></graphic>
</figure>

<para>
  Som det fremgår af skærmbilledet kan man bruge SuSE's CD 1 (eller
  den medfølgende DVD) både til installation, redningssystem og simpel
  start af et installeret system. Denne beskrivelse omhandler kun
  installationsdelen.
</para>

<figure ID="susestart1" float="1">
 <title>Sprogvalg</title>
 <graphic fileref="SuSE_80_02.&magic;" scale="60"></graphic>
</figure>

<para>
  Det første valg i installationen er hvilket sprog, der skal bruges
  undervejs. Hvor den danske udgave tidligere (i version 7.2) var
  skæmmet af en del uoversættelser og misdannelser, er version 8
  kommet meget fint med. Det kan derfor anbefales at vælge den danske
  udgave. Fejlmeldinger på engelsk kan dog stadig forekomme.
</para>

<figure ID="susestart2" float="1">
 <title>Enheder</title>
 <graphic fileref="SuSE_80_04.&magic;" scale="60"></graphic>
</figure>
 
<para>
  SuSE detekterer maskinens hardware. I mit tilfælde manglede den dog
  at finde en Mylex raid-controller, faktisk den der bærer de
  harddiske, der skal installeres på.  Løsningen på den slags
  problemer er at afbryde installationen, hvorefter den gamle
  tekstbaserede skærm dukker op. Denne giver adgang til at installere
  diverse drivere, herunder en der giver adgang til netop min
  controller.  
</para>

<figure ID="susestart3" float="1">
 <title>Installationen startes</title>
 <graphic fileref="SuSE_80_05.&magic;" scale="60"></graphic>
</figure>

<para>
  Når alle enheder er på plads får du en sidste advarsel om, 
  at installationen nu går i
  gang. Vælg "Ja, installer" og læn dig tilbage mens der arbejdes.
</para>
 
<para>
  Her kommer DVD-udgaven til sin fulde ret. Du slipper for at sidde og skifte
  CD'er med lange mellemrum.
</para>

<figure ID="susestart4" float="1">
 <title>Partitionering</title>
 <graphic fileref="SuSE_80_08.&magic;" scale="60"></graphic>
</figure>
 
<para>
  Du får mulighed for at ændre på partitioneringen af harddisken, men
  har du ikke endog meget gode grunde til det, så lad være. SuSE
  vælger som standard at lægge en swap-partition ud som er tilpasset
  mængden af RAM i maskinen, hvorefter resten af disken bruges til
  /. Hvis du ved hvad du leger med, gives der adgang til at oprette
  både raid og LVM. Sidstnævnte er et system, som tillader en meget
  fleksibel brug af flere harddiske, en slags virtuel partitionering
  på tværs af diskene. Som standard foreslår SuSE 8.0 at formattere /
  med ReiserFS, og ikke som i billedet herover Ext3.
</para>

<figure ID="susestart5" float="1">
 <title>Installationstype</title>
 <graphic fileref="SuSE_80_10.&magic;" scale="60"></graphic>
</figure>
 
<para>
  Der skal naturligvis også vælges programmer. Her byder SuSE på fire
  forslag, men der gives også en adgang til mere detaljerede
  valg. Hvis det er en server du skal installere må du en tur ind over
  den del, mens en almindelig arbejdsplads fint kan klares med et af
  de fire standardvalg. Det skal bemærkes, at du senere kan installere
  programmer ganske let med YaST2, så risikoen ved blot at tage en
  standardløsning i første omgang er ikke stor.
</para>

<figure ID="susestart6" float="1">
 <title>Programvalg</title>
 <graphic fileref="SuSE_80_11.&magic;" scale="60"></graphic>
</figure>
 
<para>
  SuSE giver både en ny (den viste) og en gammel ("Vis pakkesæt")
  opdeling af programmerne.  Begge dele er egentlig lige
  uoverskuelige, men er du vant til SuSE kan det være en fordel at
  kunne få den traditionelle opdeling vist.  Hertil kommer en meget
  effektiv mulighed for at søge - noget man naturligvis først får
  glæde af, når man ved, hvad man skal søge efter.
</para>

<figure ID="susestart7" float="1">
 <title>Programvalg</title>
 <graphic fileref="SuSE_80_15.&magic;" scale="60"></graphic>
</figure>
 
<para>
  Herover er der først søgt efter "postfix", hvorefter pakken er
  blevet valgt. Dette udløser en advarsel om, at "Sendmail" (SuSE's
  standard postprogram) og "Postfix" ikke kan leve særligt godt
  sammen. Vil du alligevel installere, får du dels en liste hvor du kan
  bortvælge Sendmail eller Postfix, og en liste med programmer, der
  yderligere skal installeres for at få Postfix til at køre.
</para>
 
<para>
  Vælger du at slette en programpakke, kan der tilsvarende komme en
  advarsel om, at et eller flere andre programmer kræver netop denne
  pakke for at fungere. Her kunne man ønske sig en mulighed for på en
  gang at slette alle de afhængige programmer - en ide til næste
  udgave (hvis de skulle forstå dansk hos SuSE).
</para>

<figure ID="susestart8" float="1">
 <title>Programvalg</title>
 <graphic fileref="SuSE_80_17.&magic;" scale="60"></graphic>
</figure>
 
<para>
  Når pakkerne installeres vises forskellige reklamer for det produkt
  du allerede har købt. Lidt for kitsch efter min smag, men der er dog
  en adgang til at slå over på en skærm, der med grafik viser hvor
  langt man er nået i forløbet. Herover vises installationen fra
  CD'erne.
</para>
 
<para>
  Når alt dette er på plads skrives en ny boot-sektor og din maskine
  bliver genstartet med den nyinstallerede Linux.
</para>
 
<para>
  Du skal inden den videre installation give root en adgangskode,
  ligesom SuSE ret fornuftigt insisterer på, at der oprettes mindst en
  almindelig bruger. Du får også mulighed for at vælge, om Linux skal
  startes i grafisk eller tekst mode. Er du begynder så vælg den
  grafiske (standard) - det er trods alt lettere at starte der, end at
  skulle finde rundt i diverse konfigurationsfiler. Den eneste
  betingelse er, at installationsprogrammet kunne finde dit skærmkort
  og skærm. Sker dette ikke, så vælg hellere at starte i tekst mode,
  indtil du har fået løst problemet.
</para>
 </sect1>

 <sect1 ID="Mangler-suse80">
<Title>Mangler og Nyheder i SuSE 8.0</title>
 
<para>
  Som inkarneret SuSE bruger savner jeg først og fremmest YaST - den
  tekstbaserede udgave som gav mig en langt hurtigere og lettere
  adgang til småjusteringer end YaST2. I den grafiske udgave er YaST2
  blevet forbedret - den tekstbaserede YaST2 er efter min bedste
  mening et misfoster som SuSE aldrig burde have vist frem for
  verden. Hårde ord, men et tekstbaseret program skal altså følge
  andre spilleregler end et grafisk, og ikke være en plat efterligning
  med samme struktur og opbygning.  Det er mit hede ønske, at SuSE i
  næste version dumper YaST2 i tekstversionen helt, og i stedet får
  opdateret YaST(1), så det program kan håndtere systemet.
</para>
 
<para>
  Tag nu ikke fejl. YaST2 er i sin grafiske udgave et meget stærkt og
  effektivt værktøj, som man kan have meget glæde af. Forudsætningen
  er altså blot lige, at man har installeret X på sin maskine, noget
  der jo langt fra er givet, hvis den skal bruges som server. Har man
  X, er det muligt direkte at starte de enkelte moduler i YaST2, så
  man slipper for omvejen over kontrolcenteret. Ganske nyttigt.
</para>
 
<para>
  SuSE har taget Zope til sig. Med vanlig omhu fra SuSE's side får man
  ikke alene programmet installeret, det er faktisk konfigureret og de
  nødvendige opsætninger til brug for Apache er på plads. Skulle du
  (som jeg) vælge helt at stryge Apache, skal du blot finde filen
  /etc/sysconfig/zope (du skal her være root), og i den rette "8080"
  til "80" og "8021" til "21", så overtager Zope helt opgaven med at
  køre din hjemmeside og FTP-server. Kom i gang med at administrere
  den ved at åbne en browser med http://1.2.3.4/manage (brug din egen
  servers IP-nummer i stedet for 1.2.3.4).  
</para>
 
<para>
  Med i YaST2 er også en endog meget let adgang til at konfigurere en 
  brandvæg (ikke oversat til dansk).
  Klik på de områder, der skal gives adgang til, og du er sikret.
</para>
 
<para>
  Der er det lidt specielle problem, at SuSE 8.0 ikke kan installeres
  under VMWare. Angiveligt skyldes dette en fejl i VMWare - noget med
  manglende evne til at håndtere hukommelsen i forbindelse med
  skærmen. Fejlen dukker op ved første forsøg på at boote systemet, så
  installationsarbejdet viser sig at være forgæves.  </para>
 
<para>
  Oversættelse af EDB-programmer til dansk er og bliver en pine. Skal
  et engelsk udtryk fordanskes, oversættes til et modsvarende dansk
  udtryk eller måske helt erstattes af et nyopfundet ord. Det sidste
  er sjældent en farbar vej, og ord som "opstartsindlæser" og
  "kørselsniveau værktøj" falder mig for brystet. Der er langt færre
  af den slags finurligheder i YaST2 nu, end der var i den tidligere
  version, så mon ikke tidens tand ret hurtigt vil få bugt med de
  sidste skæverter. Roses skal det efter min mening, at der i langt
  højere grad er anvendt ord som "tidszone" (ikke urområde) og
  "tastaturlayout" (ikke knapudlægning). Konstruerede ord har det let
  med at tale ned til læseren, à la "vi vil sandelig ikke forlange af
  dig, at du lærer de nødvendige fagudtryk, her er lidt fra
  børnehaven!"  Også de løbende sidetekster der ses i YaST2 er kommet
  på plads, mens der endnu kan dukke engelske fejlmeldinger op, hvis
  noget går galt. Eftersom disse fejlmeldinger sikkert kommer fra
  programmer, der ikke er oversat til dansk, er det jo næppe noget,
  der kan gøres noget ved.  
</para>

<para>
  Tidszonehåndtering i SuSE 8.0 kan drille. Du må måske ind manuelt som 
  root om rette <filename>/etc/sysconfig/clock</filename> til
</para>

<programlisting>
#
# Set to "-u" if your system clock is set to GMT, and to "--localtime"
# if your clock runs that way.
#
GMT="--localtime"

#
# Timezone (e.g. CET)
# (this will set /usr/lib/zoneinfo/localtime)
#
TIMEZONE="Europe/Copenhagen"
DEFAULT_TIMEZONE="Europe/Copenhagen"
</programlisting>

<para>
Alt efter hvad tiden i din BIOS skal vise. GMT="--u" anvendes hvis 
man har GMT-tid.
</para>

</sect1> 

<sect1 id="om-LVM">
<title>LVM - Logical Volume Management</title>
<indexterm><primary>LVM</primary></indexterm>
<indexterm><primary>Logical Volume Management</primary></indexterm>

 <para>
  Hvis din maskine har flere harddiske har du et problem. 
  Enten kan du vælge at dedikere hver enkelt til
  et af de faste områder (/usr /opt osv), til et hjemmelavet mountpoint 
  (/hd2 /hd3 eller lignende) eller
  du kan vælge at installere LVM (Logical Volume Manager) eller RAID. 
 </para>


 <figure ID="lvm1" float="1">
 <title>Flere diske i maskinen</title>
 <graphic fileref="SuSE_80_LVM_1.png" scale="60"></graphic>
 </figure>


 <para>
  Billedet herover viser en maskine med tre harddiske, hvoraf 
/dev/sda er anvendt til SuSE's standard
(root og swap), mens diskene /dev/sdb og /dev/sdc endnu ikke er taget ind i systemet.
 </para>

 <figure ID="lvm2" float="1">
 <title>Partitionstype 0x8e (LVM)</title>
 <graphic fileref="SuSE_80_LVM_2.png" scale="60"></graphic>
 </figure>

 <para>
  Før du kan anvende en disk til LVM skal der oprettes en partition af 
  typen 0x8e. Dette skal gøres på
alle de diske, der skal indgå i en LVM-gruppe. Derefter kan du klikke på 
 knappen "LVM", og nedenstående skærm
dukker op.
 </para>

 <figure ID="lvm3" float="1">
 <title>LVM-grupper</title>
 <graphic fileref="SuSE_80_LVM_3.png" scale="60"></graphic>
 </figure>

 <para>
  Her er der først oprettet en gruppe ved navn "vg", og de to diskes
  LVM-partitioner er derefter tilknyttet gruppen vg. Skærmen viser kun
  LVM-partitioner, så der er ikke noget at tage fejl af. En LVM-gruppe
  er at opfatte som den harddisk, du ender med at kunne arbejde videre
  med. Får du senere nye harddiske, kan du tilføje dem til en
  eksisterende gruppe, eller oprette en helt ny gruppe, som de derefter
  tilknyttes.  
 </para>

 <figure ID="lvm4" float="1">
 <title>"Opdeling af en LVM gruppe"</title>
 <graphic fileref="SuSE_80_LVM_4.png" scale="60"></graphic>
 </figure>
 <para>
  En LVM-gruppe skal opdeles i en eller flere partitioner på samme måde som en fysisk harddisk. 
 </para>

 <para>
  Fordelen ved at gå omvejen over LVM er primært, at du ikke er bundet
  til de enkelte harddiskes størrelse. I eksemplet herover er begge
  diske brugt samlet til /usr, som dermed kan blive dobbelt så stort som
  de enkelte diske hver for sig. Jeg kunne have valgt, at lade /usr få
  3G GB og fx. /opt 800 MB i stedet. Igen ville /usr så få mere plads,
  end der er på nogen af diskene enkeltvis.  
 </para>

 <figure ID="lvm5" float="1">
 <title>"Partitionering med LVM"</title>
 <graphic fileref="SuSE_80_LVM_5.png" scale="60"></graphic>
 </figure>

 <para>
  Som det fremgår af billedet, er der en række enheder som ikke 
  anvendes direkte. I stedet for at have sdb1 og sdc1 til
  rådighed, optræder /dev/vg/lvmusr (både "vg" og "lvmusr" er navne 
  jeg har fundet på). Denne enhed har til gengæld
  pladsen fra både sdb1 og sdc1 samlet i en stor partition.
 </para>

<sect2 ID="RAID"><Title>SuSE 8.0 og RAID</title>
 <figure ID="raid1" float="1">
 <title>"SuSE 8.0 og RAID"</title>
 <graphic fileref="SuSE_80_LVM_6.png" scale="60"></graphic>
 </figure>
 <para>
  Alternativet til at lade de enkelte diske optræde enkeltvist 
  eller i en LVM konfiguration kan være at oprette
  et software raid. SuSE understøtter installationen af RAID 0/1/5. 
  Har du kun to diske som her er valget let, de skal
  køre RAID 0 (de lægges bare sammen til en stor disk, hvor data 
  fordeles over begge diske). Har du tre eller flere
  diske kan du vælge de mere sikre RAID 1/5 løsninger, hvor en del 
  af pladsen (typisk en disk) bruges til kontrolfunktioner.
 </para>
 <figure ID="raid2" float="1">
 <title>"Partitionering med RAID"</title>
 <graphic fileref="SuSE_80_LVM_8.png" scale="60"></graphic>
 </figure>
 <para>
  Her er de to diske partitioneret til typen RAID, hvorefter 
  de samles i samme RAID og anvendes som et enkelt drev.
 </para>
 </sect2>
</sect1>

</chapter>
