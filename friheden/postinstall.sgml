<chapter id="system-vedligeholdelse">
<title>Efterfølgende installation af programmer og systemvedligeholdelse</title>
<indexterm><primary>RPM</primary></indexterm>
<indexterm><primary>installation af programmer</primary></indexterm>
<indexterm><primary>systemvedligeholdelse</primary></indexterm>
	
<para>
Når du har fuldført installation af en Linux-distribution og har dit
system til at køre, så vil du sikkert på et tidspunkt overveje at
fjerne nogle programmer og/eller tilføje nye programpakker. I
bl.a. Red Hat, SuSE og Mandrake anvender man
<command>rpm</command>-programmet. Det er et tekstbaseret program som
er præsenteret i bogen "Linux - Friheden til systemadministration",
der kan findes på 
<ulink
url="http://www.sslug.dk/linuxbog">http://www.sslug.dk/linuxbog</ulink>).
Kortfattet er anvendelsen at med <command>rpm -U PAKKE.rpm</command>,
vil man installere eller opgradere filen
<filename>PAKKE.rpm</filename>, og med <command>rpm -e PAKKE</command>
(bemærk at der ikke tilføjes <filename>.rpm</filename> her) så kan man
afinstallere <literal>PAKKE</literal>. Et godt sted at finde nye eller
opdaterede RPM-pakker, er at begynde på 
<ulink url="http://rpmfind.net">http://rpmfind.net</ulink> eller 
<ulink url="http://freshmeat.net">http://freshmeat.net</ulink>.
</para>

<para>
I de følgende afsnit ser vi nærmere på nogle af de værktøjer som
følger med de enkelte distributioner til at installere programmer og
lave andet systemvedligeholdelse.
</para>

<sect1 id="system-vedligeholdelse-mandrake">
<title>Systemvedligeholdelse med Mandrake</title>
<para>
Mandrake 8.0 har to gode programmer som pt. er unikke for Mandrake -
ikonerne vil man i KDE finde som vist på <xref
linkend="mandrakesystem-fig">.
</para>


<FIGURE ID="mandrakesystem-fig" FLOAT="1">
<TITLE>Grafiske programmer til at lave systemadministration i Mandrake</TITLE>
<GRAPHIC FILEREF="mandrakesystem.&magic;"  SCALE="80"></GRAPHIC>
</FIGURE>


<para>
Det første program er <emphasis>Mandrake Control
Panel</emphasis> (eller <command>DrakConf</command>,
hvis man vil starte programmet via en kommandolinie). Som det ses på 
<xref linkend="DrakConf-fig">, så kan man styre store dele af
maskin-opsætningen, og en særlig ting med Mandrake er at man kan sætte
at man logger ind automatisk uden password. Dette er meget bekvemt for
hjemmemaskinen, men bør aldrig bruges til maskiner som andre personer
kan komme til.
</para>

<FIGURE ID="DrakConf-fig" FLOAT="1">
<TITLE>Med DrakConf kan man (af)installere RPM-pakker</TITLE>
<GRAPHIC FILEREF="DrakConf.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para>
Skal du installere RPM-pakker grafisk med Mandrake 8.0 så vælg ikonet
"Software manager", eller (eller <command>rpmdrake</command>, hvis man
vil starte programmet via en kommandolinie). Programmet spørger en
enkelt gang efter dine cdrommer med Mandrake 8.0, så de kan blive
indekseret. Derefter kan du installere og afinstallere pakker efter
kategori eller efter pakke-navn (flad liste).
</para>


<FIGURE ID="rpmdrake-fig" FLOAT="1">
<TITLE>Med rpmdrake kan man sætte systemet op</TITLE>
<GRAPHIC FILEREF="rpmdrake.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>

<para>
For at bruge de to programmer skal du kende root-password, som
anvendes ved opstart af programmet.
</para>

</sect1>

<sect1 id="systemvedligeholdelse-suse">
<title>Systemvedligeholdelse med SuSE</title>
<para>
SuSE har et godt program til at vedligeholde systemet, herunder
installere/fjerne pakker. Programmet hedder <command>yast</command>,
og det køres af root. Hvis du installerer på samme måde som ved den
første installation - sikkert fra cdrom - så kan du direkte vælge
"Choose/Install packages" for at gå videre. Vil du installere via
netværk eller ændre sprog/keyboard, vælger du "Adjustments of
install".
</para>

<FIGURE ID="syseyast1-fig" FLOAT="1">
<TITLE>SuSE: Hovedmenu for yast</TITLE>
<GRAPHIC FILEREF="yast1.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>

<para>
Har du valgt "Choose/Install packages", kommer følgende skærm
op. Vil du installere/fjerne pakker, så gå direkte videre med
"Change/create configuration". Vil du se på, hvad du har installeret,
vælger du "Package information". Det øverste menu punkt, "Load
configuration", svarer til de profiler, som du kunne vælge under
installationen, dvs. her kan du nemt få valgt store grupper af pakker.
</para>

<FIGURE ID="syseyast2-fig" FLOAT="1">
<TITLE>SuSE: Efter Choose/Install packages</TITLE>
<GRAPHIC FILEREF="yast2.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>

<para>
Har du valgt "Change/create configuration", kan du gå ind og rette
de enkelte programgrupper, f.eks. "fun", som vi går videre med. Du
kan i bunden af billedet, se hvor meget diskplads du har brugt og 
tilsvarende har tilbage.
</para>

<FIGURE ID="syseyast3-fig" FLOAT="1">
<TITLE>SuSE: Pakkeoversigt</TITLE>
<GRAPHIC FILEREF="yast3.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>

<para>
Nu er du nået frem til at kunne installere programmerne. Du kan se,
hvilke programmer, der allerede er installeret, da de er markeret
med et "i". Med mellemrum kan du sætte et "X" til at markere, at
programmet skal installeres. I bunden af vinduet kan du se en kort
beskrivelse af, hvad programmet indeholder og fylder. Forlad menuen med
"F10", og gentag for de andre programgrupper, hvis du har lyst til dette.
</para>

<FIGURE ID="syseyast4-fig" FLOAT="1">
<TITLE>SuSE: Pakkevalg</TITLE>
<GRAPHIC FILEREF="yast4.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>

<para>
Trykkede du "F10" fra den menu, vi viste på <xref
linkend="syseyast3-fig">, sker der et check af, hvad du har
indtastet, og du kommer derefter tilbage til den menu, vi viste på 
<xref linkend="syseyast2-fig">. Menuen har nu fået et par nye
valgmuligheder. Med "What if" kan du se, hvad dit valg vil medføre, og
du laver installationen af de valgte pakker ved at vælge "Start Installation".
</para>

<FIGURE ID="syseyast5-fig" FLOAT="1">
<TITLE>SuSE: Klar til at installere pakker</TITLE>
<GRAPHIC FILEREF="yast5.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>

<para>
Nu laves den egentlige installation af programmer. For hver pakke
vises, hvor hurtigt den installeres. Efter disse vil yast lave en
gennemgang af systemet og opdatere en masse lister. Der går lidt tid -
nyd en kop kaffe, og du er færdig med at installere. 
</para>

<FIGURE ID="syseyast6-fig" FLOAT="1">
<TITLE>SuSE: Pakker installeres</TITLE>
<GRAPHIC FILEREF="yast6.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>

<FIGURE ID="syseyast7-fig" FLOAT="1">
<TITLE>SuSE: Der opdateres opsætningsfiler</TITLE>
<GRAPHIC FILEREF="yast7.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para>
Den viste procedure til at installere programmer i SuSE kan gentages
mange gange og er faktisk ret god sammenlignet med, hvad Red Hat
tilsvarende har af installationsværktøjer.
</para>

<sect2 id="suseinstprogram">
<title>Installation af nye programmer med SuSE</title>


<para>
Har du fået en ny RPM-pakke, f.eks. fra internettet, kan den
installeres som beskrevet, men du kan også bruge YAST
som installationsværktøj.
</para>

<para>
Fra YAST's hovedmenu:
"Choose/Install packages", "Install packages", Tryk enter på "Source",
vælg "Directory", skriv kildekataloget øverst til højre på skærmen
eller udpeg det i biblioteksstrukturen med enter og pile. Udvælg
derefter RPM-pakker til installation / afinstallation mm.
</para>
</sect2>
</sect1>


<sect1 id="linuxconf">
<title>Systemarbejde med linuxconf</title>
<para>
Det grafiske program <command>linuxconf</command> køres af
<filename>root</filename>, og det bruges til at udføre 
systemadministration på Linux-maskinen. Programmet er meget
omfattende, men nemt at bruge. Du kan konfigurere brugerkonti, grupper,
alt om netværk, e-post spam-filtrering, PPP og meget andet.
</para>

<FIGURE ID="linuxconf1-fig" FLOAT="1">
<TITLE>Systemadministration med <command>linuxconf</command></TITLE>
<GRAPHIC FILEREF="linuxconf.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<para>
Et smart trick med programmet er, at du kan køre det via en
web-browser. Din systemadministrator kan således administrere din
maskine fra en anden vilkårlig maskine, som måske kører et helt andet
styresystem. Start <command>linuxconf</command> i en
<command>xterm</command>, og vælg [Config] -> [Networking] -> [Misc]
-> [Linuxconf network access], og "activate the changes". Nu kan du
via <filename>http://DINMASKINE:98</filename> administrere maskinen
(dette kræver ikke at Apache webserveren kører). Har du et lille
lukket netværk, er det smart, men du skal vide, at netværkstrafikken
kan aflyttes, og dine kodeord transmitteres i klar tekst via dit
netværk. Du må <emphasis>aldrig</emphasis> sende adgangskoder i klar
tekst for maskiner, der er direkte på Internettet. Det er alt for usikkert.
</para>

<FIGURE ID="linuxconf2-fig" FLOAT="1">
<TITLE>Systemadministration med <command>linuxconf</command> i en web-browser.</TITLE>
<GRAPHIC FILEREF="linuxconf-web.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>
</sect1>

<sect1 id="kde-systemadm">
<title>KDE værktøjer</title>
<para>
Med de nye KDE udgaver følger en del gode værktøjer med som en
systemadministrator kan have glæde af. <command>KUser</command> er en
af dem. KDE 2.1 har dette i Menuen [Start] -> [System] -> [User Manager].
</para>

<para>
Med KDE User Manager har man et nemt grafisk program til opsætte,
ændre og slette bruger-profiler på Linux-maskinen. Klikker man på en
bruger kommer man direkte til brugeren opsætning. 
</para>

<FIGURE ID="kuser" FLOAT="1">
<TITLE>Bruger-administration med KDE User Manager</TITLE>
<GRAPHIC FILEREF="kuser.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>


<para>
Med KDE 2.1 følger også et godt værktøj til at holde styr på de RPM-,
Slackware- og DEB-pakker, der er installeret. Find
<command>KPackage</command> via [Start] -> [System] -> [Package
Manager]. Til venstre på <xref linkend="kpackage-fig"> ses en del af
oversigten over de pakker som er installeret. Vælges en pakke viser
højresiden hvad pakken indeholder og man kan få en liste af filer
pakken indeholder.
</para>

<FIGURE ID="kpackage-fig" FLOAT="1">
<TITLE>Pakke-administration med KDE Package Manager</TITLE>
<GRAPHIC FILEREF="kpackage.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>
</sect1>

<sect1 id="ximian-sysadm">
<title>Ximian setup tool</title>
<para>
Ximian Gnome (tidl. Helix Gnome, men har nu ændret navn,
pga. uoverensstemmelser med varemærkerettighedder) har lavet et
værktøj der - meget rammende - hedder Ximian Setup Tools. Dette
værktøj er meget nemt, at bruge og giver grafisk styring af de fleste
grundlæggende ting i Linux.
</para>


<FIGURE ID="ximianshares-fig" FLOAT="1">
<TITLE>Ximian fil-deling</TITLE>
<GRAPHIC FILEREF="ximianshares.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>


<para>
På <xref linkend="ximianshares-fig"> er vist hvordan de
mapper/kataloger og printere der deles, så andre kan se dem.  Som man
kan se er det nemt indstille deling af filer mellem Linux og
Windows-maskiner, eller mellem Linux-maskiner, via Samba eller NFS.
</para>

<para>
Da værktøjet endnu ikke er helt færdigt (stadig beta-kode) skal du selv hente
kildeteksten og oversætte den. Det gør du sådan her:
</para>

<para>
Åbn din favoritbrowser og gå til adressen:
<ulink url="http://www.ximian.com/desktop/setuptools.php3">http://www.ximian.com/desktop/setuptools.php3</ulink>.
Gå ned midt på siden, indtil du kommer til afsnittet "The latest
version of Ximian Setup Tools is" og tryk på versionsnummeret
nedenunder for at downloade <filename>.tar.gz</filename>-filen.
Når du har downloadet filen, skal du pakke den ud.
</para>

<screen>
<PROMPT>[root@linus /root]# </PROMPT><USERINPUT>tar -xvzf helixcode-setup-tools*</USERINPUT>
<PROMPT>[root@linus /root]# </PROMPT><USERINPUT>cd helixcode-setup-tools*</USERINPUT>
<PROMPT>[root@linus /root/helixcode-setup-tools]# </PROMPT><USERINPUT>./configure --prefix=/usr --sysconfdir=/etc</USERINPUT>
<PROMPT>[root@linus /root/helixcode-setup-tools]# </PROMPT><USERINPUT>make</USERINPUT>
<PROMPT>[root@linus /root/helixcode-setup-tools]# </PROMPT><USERINPUT>make install</USERINPUT>
</screen>

<para>
Ifølge Ximian er det VIGTIGT at huske parametrene til
<command>./configure</command>-kommandoen, da programmet ellers ikke
vil oversætte korrekt.
</para>

<para>
Når du har gjort dette er programmet installeret og kan bruges enten
enkeltvis startet via kommandolinien, eller ved at vælge Gnome
konfigurationsværktøj (værktøjskassen på Gnome's menulinie). Du kan
også trykke på Gnome-fodspor-menu, og vælge Opsætning-kontrolcenter.
Værktøjer vil være at finde under punktet System. Programmerne kan også
køres enkeltvis, hvis man vil det, med kommandoerne:
<command>users-admin</command>, <command>shares-admin</command>,
<command>disks-admin</command>, <command>memory-admin</command>,
<command>networking-admin</command> og
<command>nameresolution-admin</command>. Lad os se på netværksopsætningen:
</para>

<FIGURE ID="ximiannet-fig" FLOAT="1">
<TITLE>Ximian netværksopsætning</TITLE>
<GRAPHIC FILEREF="ximiannet.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<para>
De omtalte programmer bliver deaktiveret for alle andre brugere end
root, da det kun er root der skal ændre systemet. Programmerne kan i
stedet startes op fra kommandolinien via <command>sudo</command> eller
ved først at skrive ID til root via <command>su</command>.
</para>

<para>
I skrivende stund kan værktøjet - eller rettere de 7 programmer -
bruges til at indstille følgende på din Linux maskine:
</para>

<itemizedlist mark="bullet">
<listitem>
 <para>
Netværksopsætning: TCP/IP opsætning.
 </para>
</listitem>
<listitem>
 <para>
Name Resolution: hostnavn, domæne, DNS, WINS, statiske hosts,
søgedomæner, arbejdsgruppe.
 </para>
</listitem>
<listitem>
 <para>
Hukommelse: Swap partitioner og filer.
 </para>
</listitem>
<listitem>
 <para>
Tid: Systemuret, tidszone, tidsserver synkronisering.
 </para>
</listitem>
<listitem>
 <para>
Brugere: Brugere og grupper.
 </para>
</listitem>
<listitem>
 <para>
Diske: Mounte lokale harddiske og partitioner.
 </para>
</listitem>
<listitem> 
 <para>
Shares: NFS, SMB, eksport, detect og import.
 </para>
</listitem>
</itemizedlist>


<para>
Her er et billede af <command>disks-admin</command>-værktøjet:
</para>

<FIGURE ID="ximiandisk-fig" FLOAT="1">
<TITLE>Ximian diskstyring</TITLE>
<GRAPHIC FILEREF="ximiandisk.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<para>
I nær fremtid forventes det, at værktøjet vil blive udbygget med
funktioner til konfiguration af printer, login manager, skærm, lydkort
med mere.
</para>

<para>
Ydermere er der planlagt CORBA-integration,
således at fjernadministration af maskiner gennem
værktøjet/værktøjerne vil være muligt. Cluster/klynge-konfiguration -
dermed menes mulighed for at systemadministratorer kan konfigurere og
rekonfigurere store antal af arbejdsstationer gennem fjernopkobling.
</para>


<para>
Presets/Standardinstillinger: En anden smart (og meget relevant)
funktion vil være muligheden for - via en applet - at kunne ændre éns
netværksopsætning, standard printer, alt efter hvor man fysisk
set har koblet sin computer op.  Derved vil man kunne have forskellige
"Presets" til forskellige fysiske placeringer (arbejde, hjemmenetværk,
netparty, etc.) Denne funktion er nok i sig selv en god grund til, at
holde et vågent øje med udviklingen af dette værktøj.
</para>

<para>
Rollback/Tilbagerulning: Alle værktøjerne/værktøjet vil kunne lave et
periodisk snapshot af dit system, således at du vil kunne "rulle" din
systemkonfiguration tilbage til der, hvor den sidst virkede - denne
funktion kan sammenlignes med "Restore point" funktionen fra Microsoft
Windows ME.
</para>

</sect1>

</chapter>
