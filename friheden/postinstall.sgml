<chapter id="system-vedligeholdelse">
<title>Efterfølgende installation af programmer og systemvedligeholdelse</title>
<indexterm><primary>RPM</primary></indexterm>
<indexterm><primary>installation af programmer</primary></indexterm>
<indexterm><primary>systemvedligeholdelse</primary></indexterm>
	
<para>
Når du har fuldført installation af en Linux-distribution og har dit
system til at køre, så vil du sikkert på et tidspunkt overveje at
fjerne nogle programmer og/eller tilføje nye programpakker. I
bl.a. Red Hat, SuSE og Mandrake anvender man
<command>rpm</command>-programmet. Det er et tekstbaseret program som
er præsenteret i bogen "Linux - Friheden til systemadministration",
der kan findes på 
<ulink
url="http://www.sslug.dk/linuxbog">http://www.sslug.dk/linuxbog</ulink>).
Kortfattet er anvendelsen at med <command>rpm -U PAKKE.rpm</command>
installerer eller opgraderer man filen
<filename>PAKKE.rpm</filename>, og med <command>rpm -e PAKKE</command>
(bemærk at der ikke tilføjes <filename>.rpm</filename> her)
afinstallerer <literal>PAKKE</literal>. Et godt sted at finde nye eller
opdaterede RPM-pakker, er at begynde på 
<ulink url="http://rpmfind.net">http://rpmfind.net</ulink> eller 
<ulink url="http://freshmeat.net">http://freshmeat.net</ulink>.
</para>

<para>
I de følgende afsnit ser vi nærmere på nogle af de værktøjer som
følger med de enkelte distributioner til at installere programmer og
lave andet systemvedligeholdelse.
</para>

<sect1 id="system-vedligeholdelse-red-hat">
<title>Systemvedligeholdelse med Red Hat</title>

<para>
I Red Hat 7.3 er de fleste grafiske systemstyringsprogrammer lavet om. 
</para>

<itemizedlist mark="bullet">
<listitem>
 <para>
 <command>/usr/sbin/redhat-config-network</command> : Anvendes til
 at sætte netværket op.
 </para>
</listitem>
<listitem>
 <para>
 <command>/usr/bin/redhat-config-apache</command> : Program til 
 at sætte Apache webserver op (grafisk redigering af konfigurationsfilen
 <filename>/etc/httpd/conf/httpd.conf</filename>).
</para>
</listitem>
<listitem>
 <para>
 <command>/usr/bin/redhat-config-time</command> : Opsætning
 af dato, tid, tidszone, og evt. NTP (Netværks tidssynkronisering).
 </para>
</listitem>
<listitem>
 <para>
 <command>/usr/bin/redhat-config-services</command> : (Skal umiddelbart
i Red Hat 7.2 startes via <command>/usr/bin/serviceconf</command>).
Styring af start af server-funktioner.
Som du ser, kan du konfigurere runlevel 3 til 5. Du får en liste af
tjenester, som skal startes, når din maskine
går ind i det givne <glossterm linkend="def-runlevel">runlevel</glossterm>,
og med kryds i de enkelte bokse bestemmer du hvad der skal startes op.
</para>
</listitem>

<listitem>
 <para>
 <command>/usr/bin/redhat-config-users</command> : Brugeradministration.
 </para>
</listitem>
</itemizedlist>


<sect2 id="redhat-lydkort">
<title>Installation af lydkort med Red Hat</title>
<indexterm><primary>Lydkort</primary></indexterm>

<PARA>Du starter programmet ved at taste
<command>sndconfig</command> på kommandolinjen (som root). Programmet er
designet til at køre i tekst-tilstand, og du kan selv vælge, om du
vil benytte dig af en <command>xterm</command> eller bruge
konsollen. Første skærmbillede ser ud som vist nedenfor.
</PARA>

<FIGURE ID="sndconfig-start" FLOAT="1">
<TITLE>Første skærmbillede i
<command>sndconfig</command></TITLE>
<GRAPHIC FILEREF="sndconfig-start.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<PARA>Du fortsætter ved at trykke på ENTER. Det næste
skærmbillede, som du ser nedenfor, fortæller, hvilket lydkort
<command>sndconfig</command> har fundet, i dette tilfælde et
SoundBlaster 32 - som forventet. Du bør naturligvis tjekke, om
programmet finder det rigtige.
</PARA>

<FIGURE ID="sndconfig-2" FLOAT="1">
<TITLE>Hvilket lydkort finder <command>sndconfig</command>?</TITLE>
<GRAPHIC FILEREF="sndconfig-2.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<PARA>Det tredje skærmbillede tillader, at du vælger et
lydkort. Hvis nu <command>sndconfig</command> ikke har været i
stand til at finde dit lydkort, kan du nu vælge det rette. Vi
vælger naturligvis vores SoundBlaster 32 lydkort. Du kan bevæge
markøren vha. piletasterne, og du flytter markøren ned til OK og CANCEL
ved at trykke på TAB-tasten.
</PARA>

<FIGURE ID="sndconfig-3" FLOAT="1">
<TITLE>Der vælges et lydkort</TITLE>
<GRAPHIC FILEREF="sndconfig-3.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<PARA>
Det er nu tid til at vælge indstillinger for lydkortet. Her er det
typisk lettest, hvis du kender dem på forhånd, så du ikke behøver at
gætte dig frem. Det er reelt de samme oplysninger, som du i Microsoft
Windows 95 finder under "egenskaber for enheder".
</PARA>

<FIGURE ID="sndconfig-4" FLOAT="1">
<TITLE>Indstillinger for lydkortet vælges</TITLE>
<GRAPHIC FILEREF="sndconfig-4.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<PARA>Når du har valgt de rigtige indstillinger, vil
<command>sndconfig</command> afspille en kort lydsekvens for
dig. Når du hører den, betyder det, at lydkortet er korrekt
konfigureret.
</PARA>

<FIGURE ID="sndconfig-5" FLOAT="1">
<TITLE>En lydsekvens afspilles</TITLE>
<GRAPHIC FILEREF="sndconfig-5.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<para>Gik det helt galt med dit lydkort, kan det være, at du ikke
har den rette Linux-kerne og modulerne til det. Du kan
læse videre i de følgende afsnit om, hvordan kernen oversættes.
Se også på <ulink
url="http://www.alsa-project.org/">http://www.alsa-project.org/</ulink>
hvis dit lydkort ikke er understøttet direkte.
</para>
</sect2>


<sect2 id="printere">
<title>Printere</title>
<indexterm><primary>Printer</primary></indexterm>
<indexterm><primary>Udskrivning</primary></indexterm>
<para>
Skal du tilføje en printer, du kan skrive ud på, og du anvender Red
Hat, skal du lige som "root" sætte printeren op med
<command>printtool</command>. Det første billede du møder viser,
hvor mange printere, der allerede er sat op. I dette tilfælde kun én.
</para>

<figure id="redhat-printer-opsaetning1-fig" float="1">
 <title>Red Hat printeropsætning</title>
 <graphic fileref="redhat-printer-opsaetning1.&magic;"  scale="60"></graphic>
</figure>

<figure id="redhat-printer-opsaetning2-fig" float="1">
 <title>Red Hat printeropsætning</title>
 <graphic fileref="redhat-printer-opsaetning2.&magic;"  scale="60"></graphic>
</figure>

<figure id="redhat-printer-opsaetning3-fig" float="1">
 <title>Red Hat printeropsætning</title>
 <graphic fileref="redhat-printer-opsaetning3.&magic;"  scale="60"></graphic>
</figure>

<figure id="redhat-printer-opsaetning4-fig" float="1">
 <title>Red Hat printeropsætning</title>
 <graphic fileref="redhat-printer-opsaetning4.&magic;"  scale="60"></graphic>
</figure>

<figure id="redhat-printer-opsaetning5-fig" float="1">
 <title>Red Hat printeropsætning</title>
 <graphic fileref="redhat-printer-opsaetning5.&magic;"  scale="60"></graphic>
</figure>

<figure id="redhat-printer-opsaetning6-fig" float="1">
 <title>Red Hat printeropsætning</title>
 <graphic fileref="redhat-printer-opsaetning6.&magic;"  scale="60"></graphic>
</figure>

<figure id="redhat-printer-opsaetning7-fig" float="1">
 <title>Red Hat printeropsætning</title>
 <graphic fileref="redhat-printer-opsaetning7.&magic;"  scale="60"></graphic>
</figure>

<figure id="redhat-printer-opsaetning8-fig" float="1">
 <title>Red Hat printeropsætning</title>
 <graphic fileref="redhat-printer-opsaetning8.&magic;"  scale="60"></graphic>
</figure>


<para>
Efter at have trykket på "Ok", er du tilbage i hovedmenuen for
printeropsætning og kan vælge at udskrive testsider. Håber det
virker.
</para>

<para>
Nu bør f.eks. din Netscape kunne udskrive og tilsvarende din gv (til PostScript-filer).
Du kan udskrive tekstfiler med <command>lpr FILNAVN</command>,
og du bør nok læse man-siderne for lpr, lprm, lpq og lpc.
</para>

<para>
Til at udskrive tekstfiler, f.eks. C-kode, kan du med fordel
installere a2ps, som laver meget pæne udskrifter, der viser kodesyntaks.
Du finder a2ps på <ulink
url="http://www.inf.enst.fr/~demaille/a2ps">http://www.inf.enst.fr/~demaille/a2ps</ulink>.
Se i øvrigt <ulink
url="http://www.linuxprinting.org">http://www.linuxprinting.org</ulink>
for mere om printere og Linux.
</para>

<sect3 id="udskrivning-fra-andre-maskiner">
<title>Udskrivning fra andre maskiner</title>
<indexterm><primary>Printer</primary><secondary>fra andre Linux-maskiner</secondary></indexterm>
<indexterm><primary>Udskrivning</primary><secondary>fra andre Linux-maskiner</secondary></indexterm>
<para>
Skal du skrive dokumenter ud fra en anden Linux-maskine til den
printer, du har sat på din Linux-maskine, så bliver du nødt til at
rette filen <filename>/etc/hosts.lpd</filename>, så den indeholder de
maskiner, der kan skrive ud på printeren. Du kan også bruge jokertegn
(eng. wildcards), f.eks. "*.kongeh.dk" for at tillade alle maskiner i
domænet kongeh.dk.
</para>
</sect3>

</sect2>

</sect1>



<sect1 id="system-vedligeholdelse-mandrake">
<title>Systemvedligeholdelse med Mandrake</title>

<indexterm><primary>Mandrake</primary></indexterm>

<para>
Umiddelbart efter installationen vil det være en fordel at hente de 
opdateringer der er kommet til distributionen. De findes på:
<ulink url="ftp://ftp.sunet.se/pub/os/Linux/distributions/mandrake/updates/">
ftp://ftp.sunet.se/pub/os/Linux/distributions/mandrake/updates/</ulink> hvor
man kan hente dem selv. Dette er dog ikke at anbefale da Mandrake 
softwaremanager med fordel kan håndtere dette. 
Dette kan gøres på 2 måder enten grafisk gennem
rpmdrake se <xref linkend="rpmdrake-fig"> eller via kommandolinien ved at 
skrive:
</para>

<programlisting>
<prompt>[root@luke root]#</prompt> <userinput>urpmi.addmedia --update sunet ftp://ftp.sunet.se/pub/os/Linux/
distributions/mandrake/updates/8.2/RPMS/ with ../base/hdlist.cz</userinput>
</programlisting>


<para>
Så er opdateringskilderne inde i systemet 
og der kan nu opdateres ved enten at vælge 
Mandrake Update via den grafiske rpmdrake eller ved at skrive 
</para>

<programlisting>
<prompt>[root@luke root]#</prompt> <userinput>urpmi --auto-select</userinput>
</programlisting>

<para>
Så vil den selv finde ud af hvilke pakker der er installeret og hvilke der behøves opdateringer til.
</para>

<FIGURE ID="rpmdrake-fig" FLOAT="1">
<TITLE>Med rpmdrake kan updatere,installere og afinstallere software.</TITLE>
<GRAPHIC FILEREF="rpmdrake.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>

<para>
Ligeledes er det <command>rpmdrake</command>/<command>urpmi</command>
der benyttes til efterfølgende at installere software på systemet.
</para>

<para>
For at få DVD/DivX, etc til at virke under Mandrake er alle programmer
der af copyright/licens eller patent årsager ikke kan komme med på
distributionens skiver samlet. Disse kan også nemt tilføjes til
rpmdrake som kilde, se mere om det på:
<ulink url="http://plf.zarb.org">http://plf.zarb.org - Penguin Liberation Front.</ulink>

</para>
<para>
Ydermere er der Mandrake's arkiv at OpenSource software der er bygget
til Mandrake systemet, men der ikke var plads til på de 3 CD'er. Dette
kaldet contribution arkivet og kan nemt tilføjes til <command>rpmdrake</command> med:
</para>

<screen>
<prompt>[root@luke root]#</prompt> <userinput>urpmi.addmedia contrib ftp://ftp.sunet.se/pub/os/Linux/distributions/mandrake/8.2/contrib/RPMS with synthesis.hdlist2.cz</userinput>
</screen>

<para>
Tilføjes disse giver det et total på over 3300 rpmpakker der kan
installeres direkte gennem <command>rpmdrake</command> eller den
tekstbaserede <command>urpmi</command>.
</para>

<para>
Hvis du vil have installeret f.eks. pine (email-program) da skrives
blot 
</para>

<screen>
<prompt>[root@luke root]#</prompt> <userinput>urpmi pine</userinput>
</screen>

<para>
Du vil blive bedt om den eller de cdrom'er der er nødvendige for at
installere <literal>pine</literal> i den rækkefølge som gør at alle
afhængigheder opfyldes. Du skal således ikke selv tænke over hvilke
biblioteker som mangler på systemet for at kunne køre
<literal>pine</literal> - det klarer <command>urpmi</command>. Her er
Mandrake Linux klart foran bla. Red Hat. I dagligdagen er dette
virkelig noget man kan sætte pris på - selv for en erfaren Linux
bruger. For nybegynderen er dette et must. Den eneste begræsning for
<command>urpmi</command> er at det ikke kan anvendes for programmer
som endnu ikke findes oversat til RPM-format til Mandrake. Dette er
tilfældet for f.eks. OpenOffice.org.  
</para>

<para>
Det kan nævnes at <command>urpmi</command> er kraftigt inspireret af
programmet <command>apt-get</command> fra Debian Linux, hvor man 
også har en meget nem måde at opgrade og installere programmer på.
Se mere i <xref linkend="installer-debian">.
</para>

<sect2 id="Mandrake-systemvedligeholdelse">
<title>Mandrake systemvedligeholdelse</title>
<para>
Til den almindelige opsætning/systemkonfiguration findes Mandrake Control
Center eller <command>drakconf</command>
Det første program er <emphasis>Mandrake Control
Panel</emphasis> (eller <command>DrakConf</command>,
hvis man vil starte programmet via en kommandolinie). Som det ses på 
<xref linkend="DrakConf-fig">, så kan man styre store dele af
maskin-opsætningen, og en særlig ting med Mandrake er, at man kan angive
at man logger ind automatisk uden password. Dette er meget bekvemt for
hjemmemaskinen, men bør aldrig bruges til maskiner som andre personer
kan komme til. På <xref linkend="DrakConf-fig"> ses printeropsætningen i 
drakconf
</para>


<FIGURE ID="DrakConf-fig" FLOAT="1">
<TITLE>Med DrakConf kan man administrere systemet.</TITLE>
<GRAPHIC FILEREF="DrakConf.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para>
For at bruge de to programmer skal du kende root-password, som
anvendes ved opstart af programmet.
</para>
</sect2>

<sect2 id="kde3-mandrake-82">
<title>Opgradering til KDE 3 under Mandrake 8.2</title>
<para>
På <ulink url="http://www.linux-mandrake.com/en/mdk-kde3.0.php3">http://www.linux-mandrake.com/en/mdk-kde3.0.php3</ulink> er beskrevet hvordan man kan opdradere Mandrake 8.2 til KDE 3. Der er et par 
detaljer ekstra som kommer med her.
</para>

<screen>
<PROMPT>[anne@linus ~]$</PROMPT> <USERINPUT>su - root</USERINPUT>
<PROMPT>[root@linus /root]#</PROMPT> <USERINPUT>urpmi ftp://rpmfind.net/linux/Mandrake/8.2/i586/Mandrake/RPMS/xanim-28010-16mdk.i586.rpm</USERINPUT>
<PROMPT>[root@linus /root]#</PROMPT> <USERINPUT>urpmi ctags gimp gcc-g++-2.96 ncftp</userinput>
</screen>

<para>
Derefter skal der indsættes cd cdrom'er, der bedes om.
</para>

<para>
Nu skal der hentes ca. 110 MB programmer via Internettet.
</para>

<screen>
<PROMPT>[root@linus /root]#</PROMPT> <USERINPUT>mkdir tmp</USERINPUT>
<PROMPT>[root@linus /root]#</PROMPT> <USERINPUT>cd tmp</USERINPUT>
<PROMPT>[root@linus /root/tmp]#</PROMPT> <USERINPUT>ncftpget ftp://ftp.kde.org/pub/kde/stable/3.0.2/Mandrake/noarch/</USERINPUT>
 mget *da*
 cd ../i586
 mget *
 exit
<PROMPT>[root@linus /root/tmp]#</PROMPT> <USERINPUT>urpmi *.rpm</USERINPUT>
<PROMPT>[root@linus /root/tmp]#</PROMPT> <USERINPUT>exit</USERINPUT>
</screen>
</sect2>
</sect1>

<sect1 id="systemvedligeholdelse-suse">
<title>Systemvedligeholdelse med SuSE</title>

<para>
YaST2 er langt mere end blot installationsprogrammer. De giver
adgang til automatisk opdatering af installerede pakker via FTP fra
SuSE, installation af andre pakker, gruppe- og brugerstyring, valg af
brugernavn og brugerflade under X og meget mere. Under KDE kan de enkelte
dele af YaST2 vælges enkeltvis, en ganske elegant løsning.
</para>

<!--
<sect2 id="yast-install-admin">
<title>YaST - tekstbaseret installations- og administrationsprogram</title>

<indexterm><primary>YAST</primary></indexterm>

<para>
Afbryder man installationen under YaST2, falder systemet tilbage til
den tekstbaserede version YaST. Det er nødvendigt, hvis man ønsker
en mere speciel installation, f.eks. med brug af LVM.  Under YaST får man
blandt meget andet mulighed for at ændre de enkelte partitioners type
til 8e (LVM), for derefter at oprette PhysicalVolume (PV),
VolumeGroups (VG) og LogicalVolumes (LV).  (Det er næppe det et tiårs
barn skal starte med, men efter et par år...)
</para>

<indexterm><primary>LVM</primary></indexterm>
<indexterm><primary>Logical Volume Management</primary></indexterm>


<para>
Billederne herunder viser en eksisterende opsætning af LVM på en anden
(ikke virtuel) maskine. Først vejen ind: 
</para>

<FIGURE ID="Yast1-1-fig" FLOAT="1">
<TITLE>YaST1</TITLE>
<GRAPHIC FILEREF="Yast1_1.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para>
Konfigurationen startes med at oprette PV'er under "F6:
Partitionering". Alle eksisterende primære partitioner på alle
eksisterende drev kan lægges ind under LVM, men SuSE anbefaler (i
version 7.0) at holde boot ude.  
</para>

<FIGURE ID="Yast1-2-fig" FLOAT="1">
<TITLE>YaST1</TITLE>
<GRAPHIC FILEREF="Yast1_2.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para>
Derefter oprettes en VG, og de ønskede PV'er sættes ind i den ved en
simpel afkrydsning.  
</para>

<FIGURE ID="Yast1-3-fig" FLOAT="1">
<TITLE>Yast1</TITLE>
<GRAPHIC FILEREF="Yast1_3.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para> 
I eksemplet her har maskinen en lille IDE-disk mountet som
<filename>/boot,</filename> en stor IDE-disk (opdelt i swap,
<filename>/root</filename> og en stor partition til mount af diverse
sjældent brugte ting og sager).  
</para>

<para>
Der er 4 SCSI-drev i forskellig størrelse, alle koblet sammen i samme
VG. Denne VG optræder herefter som et enkelt fysisk drev på omkring
25 Gb, i det mindste indtil der kommer flere diske til eller tages
diske ud.  
</para>

<FIGURE ID="Yast1-4-fig" FLOAT="1">
<TITLE>YaST1</TITLE>
<GRAPHIC FILEREF="Yast1_4.&magic;"  SCALE="60"></GRAPHIC>
</FIGURE>


<para>
Den samlede VG kan nu benyttes til at oprette LV. I dette tilfælde er
16 af de 24 Gb lagt sammen i et enkelt LV, som derefter er mountet som
/home. Skulle behov opstå, kan der på de eksisterende diske udvides
med yderligere 8 Gb, eller de 8 Gb kan benyttes til fx /usr /opt eller
hvor behovet måtte vise sig.
</para>

<para>
Selve håndteringen af LVM skal ikke ske i YaST, men opsætning og
klargøringen håndteres fint.  En gennemlæsning af LVM-Howto giver et
godt udgangspunkt.
</para>
</sect2>
-->
<sect2 id="suse-printer">
<!-- Skrevet af Jesper Laisen -->
<title>Opsætning af printer under SuSE</title>


<indexterm><primary>Printer</primary><secondary>Opsætning under SuSE</secondary></indexterm>
<indexterm><primary>Udskrivning</primary><secondary>Opsætning under SuSE</secondary></indexterm>

<para>
Du skal konfigurere din printer, inden du kan bruge den. Du vælger "Start
 application, Control Center". Når dit Control Center er startet, vælger du
"YaST2 modules, Hardware, Autodetect Printers"
</para>

<figure id="suse-printer-yast2-fig" float="1">
<title>Printerhåndtering under SuSE</title>
<graphic fileref="suse_printer_yast2.&magic;" scale="60"></graphic>
</figure>


<para>
Du skal være root for at konfigurere din printer. Klik på root og
skriv det password, som svarer til root.
</para>

<figure id="suse-printer-runsasroot-fig" float="1">
<title>Printerhåndtering under SuSE</title>
<graphic fileref="suse_printer_runasroot.&magic;" scale="60"></graphic>
</figure>


<para>
Hvis din printer blevet genkendt under installation, vil det fremgå af
"Printers to configure". I feltet nedenunder kan du se, at printeren
(en Lexmark 5700 i dette tilfælde) ikke allerede er konfigureret. Hvis
den ikke er genkendt, kan du prøve at klikke på "Restart
detection". Ellers klikker du på den genkendte printer og dernæst på
"Configure".
</para>

<figure id="suse-printer-setup-fig" float="1">
<title>Printerhåndtering under SuSE</title>
<graphic fileref="suse_printer_setup.&magic;" scale="60"></graphic>
</figure>


<para>
Du kan nu vælge mellem tre former for setup:
</para>
<itemizedlist mark="bullet">
<listitem>
 <para>
  Quick automatic setup
 </para>
</listitem>
<listitem>
 <para>
  Normal setup
 </para>
</listitem>
<listitem> 
 <para>
  Advanced setup
 </para>
</listitem>
</itemizedlist>

<figure id="suse-printer-configuration-fig" float="1">
<title>Printerhåndtering under SuSE</title>
<graphic fileref="suse_printer_configuration.&magic;" scale="60"></graphic>
</figure>


<para>
Hvis du ikke kender så meget til opsætning, er det nemmest blot at
vælge "Quick automatic setup". Klik dernæst på "Next".
</para>

<para>
I "Printer overvew" kan du nu se, hvordan printeren er konfigureret. Bemærk at
navnet på printerens kø er "lp".
</para>

<figure id="suse-printer-overview-fig" float="1">
<title>Printerhåndtering under SuSE</title>
<graphic fileref="suse_printer_overview.&magic;" scale="60"></graphic>
</figure>


<para>
Vælg nu at udskrive en testside ved at klikke på "Test".
</para>

<figure id="suse-printer-testpage-fig" float="1">
<title>Printerhåndtering under SuSE</title>
<graphic fileref="suse_printer_testpage.&magic;" scale="60"></graphic>
</figure>


<para>
Klik ok. Hvis testsiden kommer rigtigt ud, klikker du ok til følgende billede:
</para>

<figure id="suse-printer-testpage-ok-fig" float="1">
<title>Printerhåndtering under SuSE</title>
<graphic fileref="suse_printer_testpage_ok.&magic;" scale="60"></graphic>
</figure>


<para>
Din printer er nu være konfigureret, og du kan klikke på "Finish".
</para>

<figure id="suse-printer-ok-fig" float="1">
<title>Printerhåndtering under SuSE</title>
<graphic fileref="suse_printer_ok.&magic;" scale="60"></graphic>
</figure>


<para>
Hvis du nu i nogen af de andre KDE-programmer for eksempel KMail klikker på
print-ikonet, kan du nu se, at navnet på printerens kø - lp - er valgt.
</para>

<figure id="suse-printer-print-fig" float="1">
<title>Printerhåndtering under SuSE</title>
<graphic fileref="suse_printer_print.&magic;" scale="60"></graphic>
</figure>



<para>
Du kan nu udskrive ved at klikke på "Ok".
</para>

</sect2>
</sect1>


<sect1 id="kde-systemadm">
<title>KDE-værktøjer</title>
<para>
Med de nye KDE-udgaver følger en del gode værktøjer med som en
systemadministrator kan have glæde af. <command>KUser</command> er en
af dem. KDE har dette i Menuen [Start] -> [System] -> [User Manager].
</para>

<para>
Med KDE User Manager har man et nemt grafisk program til at opsætte,
ændre og slette bruger-profiler på Linux-maskinen. Klikker man på en
bruger kommer man direkte til brugerens opsætning. 
</para>

<FIGURE ID="kuser" FLOAT="1">
<TITLE>Bruger-administration med KDE User Manager</TITLE>
<GRAPHIC FILEREF="kuser.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>


<para>
Med KDE følger også et godt værktøj til at holde styr på de RPM-,
Slackware- og DEB-pakker, der er installeret. Find
<command>KPackage</command> via [Start] -> [System] -> [Package
Manager]. Til venstre på <xref linkend="kpackage-fig"> ses en del af
oversigten over de pakker som er installeret. Vælges en pakke viser
højresiden hvad pakken indeholder og man kan få en liste over filer, som
pakken indeholder.
</para>

<indexterm><primary>kpackage</primary></indexterm>

<FIGURE ID="kpackage-fig" FLOAT="1">
<TITLE>Pakke-administration med KDE Package Manager</TITLE>
<GRAPHIC FILEREF="kpackage.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<sect2 id="KDE-login-haandtering">
<title>KDE 3 login håndtering</title>
<para>
Det næste emne vi ser nærmere på er login-håndtering under KDE.
Er man lidt doven vil mange sikkert gerne undgå at skulle skrive
navn og password ved login på maskinen. Dette er jo nemt og bekvemt.
Af hensyn til sikkerheden på maskinen bør dette kun anvendes på ens 
egen hjemmemaskine hvor andre ikke kan komme til denne. Tænk altid på  
hvordan din maskine kan misbruges <emphasis>før</emphasis> uheldet er
sket. Ud over nem login ser vi på baggrundsbillede og logo på login
</para>

<para>
I det følgende er vist for SuSE 8.0. Vælg 
[Start]->[Indstillinger]->[System]->[Login-håndtering].
<!-- sudo kcmshell 'System/kdm' -->
</para>

<FIGURE ID="kde-login-fig1" FLOAT="1">
<TITLE>KDE login håndtering</TITLE>
<GRAPHIC FILEREF="kde_login1.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<para>
Under det første faneblad [Udseende] kan der sættes nyt logo
for login-sessionen. Der skal laves et nyt 100x100 logo i PNG-format
hvis man vil have samme størrelse som de indbyggede logoer.
</para>

<FIGURE ID="kde-login-fig2" FLOAT="1">
<TITLE>KDE login håndtering</TITLE>
<GRAPHIC FILEREF="kde_login2.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<para>
Under det tredie faneblad [Baggrund] kan man vælge nyt baggrunds-tapet.
Vælg et logo der er stort og passer med den opløsning, der anvendes 
under login-sessionen.
</para>

<FIGURE ID="kde-login-fig3" FLOAT="1">
<TITLE>KDE login håndtering</TITLE>
<GRAPHIC FILEREF="kde_login3.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<para> 
Under fanebladet "Behagelighed" kan man under "Automatisk login"
vælge at en bruger, her brugeren "pto" logger automatisk.
</para>

<FIGURE ID="kde-login-fig4" FLOAT="1">
<TITLE>KDE login håndtering</TITLE>
<GRAPHIC FILEREF="kde_login4.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<para>
Endelig kan man under fanebladet "brugere" sætte hvilke brugere
som ikke skal vises i login-sessionen, og man man også vælge 
logoer for de enkelte brugere, f.eks. et billede af den
enkelte person, hvis dette ønskes. Tryk på ikonet i øverste højre 
hjørne efter at have valgt en person. Vælg derefter den rette 
grafik-fil.
</para>

<FIGURE ID="kde-login-fig5" FLOAT="1">
<TITLE>KDE login håndtering</TITLE>
<GRAPHIC FILEREF="kde_login5.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>


</sect2>
</sect1>

<sect1 id="ximian-sysadm">
<title>Ximian setup tool</title>
<para>
Ximian Gnome (tidl. Helix Gnome, men har nu ændret navn,
pga. uoverensstemmelser med varemærkerettigheder) har lavet et
værktøj der - meget rammende - hedder Ximian Setup Tools. Dette
værktøj er meget nemt at bruge og giver grafisk styring af de fleste
grundlæggende ting i Linux.
</para>

<indexterm><primary>Ximian</primary></indexterm>

<FIGURE ID="ximianshares-fig" FLOAT="1">
<TITLE>Ximian fil-deling</TITLE>
<GRAPHIC FILEREF="ximianshares.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>


<para>
På <xref linkend="ximianshares-fig"> er vist hvordan
mapper/kataloger og printere deles, så andre kan se dem.  Som man
kan se er det nemt indstille deling af filer mellem Linux og
Windows-maskiner, eller mellem Linux-maskiner, via Samba eller NFS.
</para>

<para>
Da værktøjet endnu ikke er helt færdigt (stadig beta-kode) skal du selv hente
kildeteksten og oversætte den. Det gør du sådan her:
</para>

<para>
 Åbn din favoritbrowser og gå til adressen:
 <ulink url="http://www.ximian.com/desktop/setuptools.php3">http://www.ximian.com/desktop/setuptools.php3</ulink>.
 Gå ned midt på siden, indtil du kommer til afsnittet "The latest version of
 Ximian Setup Tools is" og tryk på versionsnummeret nedenunder for at hente
 <filename>.tar.gz</filename>-filen.  Når du har hentet filen, skal du pakke
 den ud:
<screen>
<PROMPT>[root@linus /root]# </prompt><userinput>tar xzvf helixcode-setup-tools*</USERINPUT>
<PROMPT>[root@linus /root]# </prompt><userinput>cd helixcode-setup-tools*</USERINPUT>
<PROMPT>[root@linus /root/helixcode-setup-tools]# </prompt><userinput>./configure --prefix=/usr --sysconfdir=/etc</USERINPUT>
<PROMPT>[root@linus /root/helixcode-setup-tools]# </prompt><userinput>make</USERINPUT>
<PROMPT>[root@linus /root/helixcode-setup-tools]# </prompt><userinput>make install</USERINPUT>
</screen>
</para>

<para>
Ifølge Ximian er det VIGTIGT at huske parametrene til
<command>./configure</command>-kommandoen, da programmet ellers ikke
vil oversætte korrekt.
</para>

<para>
Når du har gjort det, er programmet installeret og kan bruges enten
enkeltvis startet via kommandolinien, eller ved at vælge Gnome
konfigurationsværktøj (værktøjskassen på Gnomes menulinie). Du kan
også trykke på Gnome-fodspor-menu, og vælge Opsætning-kontrolcenter.
Værktøjer vil være at finde under punktet System. Programmerne kan også
køres enkeltvis, hvis man vil det, med kommandoerne:
<command>users-admin</command>, <command>shares-admin</command>,
<command>disks-admin</command>, <command>memory-admin</command>,
<command>networking-admin</command> og
<command>nameresolution-admin</command>. Lad os se på netværksopsætningen:
</para>

<FIGURE ID="ximiannet-fig" FLOAT="1">
<TITLE>Ximian netværksopsætning</TITLE>
<GRAPHIC FILEREF="ximiannet.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<para>
De omtalte programmer bliver deaktiveret for alle andre brugere end
root, da det kun er root der skal ændre systemet. Programmerne kan i
stedet startes op fra kommandolinien via <command>sudo</command> eller
ved først at skrive ID til root via <command>su</command>.
</para>

<para>
I skrivende stund kan værktøjet - eller rettere de 7 programmer -
bruges til at indstille følgende på din Linux-maskine:
</para>

<itemizedlist mark="bullet">
<listitem>
 <para>
Netværksopsætning: TCP/IP-opsætning.
 </para>
</listitem>
<listitem>
 <para>
Name Resolution: hostnavn, domæne, DNS, WINS, statiske hosts,
søgedomæner, arbejdsgruppe.
 </para>
</listitem>
<listitem>
 <para>
Hukommelse: Swap-partitioner og filer.
 </para>
</listitem>
<listitem>
 <para>
Tid: Systemuret, tidszone, tidsserver synkronisering.
 </para>
</listitem>
<listitem>
 <para>
Brugere: Brugere og grupper.
 </para>
</listitem>
<listitem>
 <para>
Diske: Mounte lokale harddiske og partitioner.
 </para>
</listitem>
<listitem> 
 <para>
Shares: NFS, SMB, eksport, detect og import.
 </para>
</listitem>
</itemizedlist>


<para>
Her er et billede af <command>disks-admin</command>-værktøjet:
</para>

<FIGURE ID="ximiandisk-fig" FLOAT="1">
<TITLE>Ximian diskstyring</TITLE>
<GRAPHIC FILEREF="ximiandisk.&magic;"  SCALE="50"></GRAPHIC>
</FIGURE>

<para>
I nær fremtid forventes det, at værktøjet vil blive udbygget med
funktioner til konfiguration af printer, login manager, skærm, lydkort
med mere.
</para>

<para>
Ydermere er der planlagt CORBA-integration,
således at fjernadministration af maskiner gennem
værktøjet/værktøjerne vil være muligt. Cluster/klynge-konfiguration -
dermed menes mulighed for at systemadministratorer kan konfigurere og
rekonfigurere store antal af arbejdsstationer gennem fjernopkobling.
</para>


<para>
Presets/Standardindstillinger: En anden smart (og meget relevant)
funktion vil være muligheden for - via en applet - at kunne ændre ens
netværksopsætning, standard-printer, alt efter hvor man fysisk
set har koblet sin computer op.  Derved vil man kunne have forskellige
"Presets" til forskellige fysiske placeringer (arbejde, hjemmenetværk,
netparty, etc.) Denne funktion er nok i sig selv en god grund til at
holde et vågent øje med udviklingen af dette værktøj.
</para>

<para>
Rollback/Tilbagerulning: Alle værktøjerne/værktøjet vil kunne lave et
periodisk snapshot af dit system, således at du vil kunne "rulle" din
systemkonfiguration tilbage til der, hvor den sidst virkede - denne
funktion kan sammenlignes med "Restore point"-funktionen fra Microsoft
Windows ME.
</para>

</sect1>

<sect1 id="cups">
<title>CUPS</title>

<para>
Hvis man har en eller flere printere man gerne vil bruge under Linux,
bør man overveje at installere CUPS (Common UNIX Printing
System). <!-- Hvis man har flere arbejdsstationer og gerne vil kunne skrive
ud fra dem alle er CUPS så afgjort det bedste valg. -->
</para>

<sect2 id="cups-installation">
<title>Installation</title>

<para>
Installation af CUPS er et spørgsmål om at installere de rigtige
pakker, på et Debian system er det <filename>cupsys</filename>,
  <filename>cupsys-bsd</filename>
<footnote><para>
Egentlig er <filename>cupsys-bsd</filename> kun nødvendigt
    hvis man er vant til
BSD kommandoerne <command>lpr</command>, <command>lpq</command>,
<command>lprm</command> og <command>lpc</command>, fremfor System
V-kommandoerne <command>lp</command>, <command>cancel</command>,
<command>lpoptions</command> og <command>lpstat</command>.
</para></footnote>
og <filename>cupsys-client</filename>, på RedHat 7.3 hedder den blot
<filename>cups</filename>. 
</para>

<para>
Før man kan bruge CUPS skal man sikre sig at man har en PPD-fil
(Postscript Printer Definition) til sin printer. Hvis man har en
laserprinter er der gode chancer for at producenten enten medleverede
en, eller at den kan findes på nettet. Hvis producenten ikke har lavet
en PPD til printeren kan man kigge på de driverpakker distributionerne
har (Debians <filename>cupsomatic-ppd</filename>-pakke indeholder
f.eks. over 900 PPD'er).
</para>

<para>
Hvis man selv har fundet en PPD-fil skal man placere den i
  <filename>/usr/share/cups/model</filename>. <!-- I hvert fald på
  Debian - Tjek om andre distributioner leder et andet sted -->
</para>
</sect2>

<sect2 id="cups-konfig">
<title>Konfiguration af CUPS</title>

<para>
Den letteste måde at administrere printere på i CUPS er via
webgrænsefladen.
Så ret din netsøger mod 
<ulink url="http://127.0.0.1:631/">127.0.0.1:631</ulink>.
Det er vigtigt at du bruger 127.0.0.1 og ikke IP-nummeret knyttet til
et evt. netkort, for hvis du gør det vil forespørgslen se ud til at
komme fra det IP-nummer og CUPS er som standard sat op til kun at
acceptere forbindelser fra 127.0.0.1.
</para>

<!-- Skriv et afsnit om at bruge Bind+Apache til at give en URL der er -->
<!-- pænere/lettere at huske -->

<para>
I webgrænsefladen kan du vælge mellem flere forskellige ting. I første
omgang vil du nok gerne have tilføjet en printer, så klik på "Do
Administration Tasks". Nu bliver du spurgt om brugernavn og
adgangskode, brugernavnet skal være root og kodeordet kender du kun
selv. Klik så på "Add Printer" for at tilføje en printer. Først bliver
du spurgt om hvilket navn du vil give printeren, hvor den står og du
har også mulighed for at indtaste en beskrivelse, når du har udfyldt
felterne så godt som du gider (du skal indtaste et navn, men de andre
må godt være tomme), trykker du på "Continue". Det næste spørgsmål
handler om hvordan printeren er tilsluttet, de fleste vil nok enten
vælge enten "Parallel Port #1" (for en printer tilsluttet
parallelporten) eller "LPD/LPR Host or Printer" (for en
netværksprinter). Hvis man vælger en af netværkstilslutningerne får
man et enkelt spørgsmål om printerens URI. Derefter skal du vælge
først hvilket mærke og dernæst hvilken model printeren er, og så er
printeren oprettet.
</para>

<para>
Når printeren er oprettet er det en god idé at vælge "Printers" i
menuen øverst. Så kommer der en side hvor man kan se hvilke printere
der er oprettet. Inden man klikker på "Print Test Page" for at sikre
sig at man har fået sat printeren rigtigt op bør man lige klikke på
"Configure Printer". Alt efter printerens model får man så mulighed
for at stille på et antal parametre, som minimum vil man sikkert vælge
at bruge A4-papir. Når man mener at man har konfigureret sin printer
passende, trykker man på en af "Continue"-knapperne og vender tilbage
til printeroversigten, og nu bør man så udskrive en testside.
</para>
</sect2>

</sect1>

<sect1 id="swapfiler">
<title>Swapfiler</title>

<para>
Swapfiler er nu til dags et godt alternativ til swappartitioner. Den
største fordel er at det er nemt at tilføje (og fjerne) swapplads
efter behov. Tidligere har hastighed været et argument for at bruge
swappartitioner fremfor swapfiler. I dag er harddiske så hurtige at
der ikke er nogen reel forskel. Det største problem man i dag støder
på er installationsprogrammer, der typisk ikke understøtter brugen af
swapfiler, og nogen gange insisterer på at man laver en
swappartition.
</para>

<para>
For at lave en swapfil skal man starte med at lave en fil af den
ønskede størrelse, indholdet er ligegyldigt. En nem måde at lave filen
på er med <command>dd if=/dev/zero of=/swap bs=16384
count=16384</command> der vil lave filen /swap på 128MiB.
</para>

<para>
For at mindske sandsynligheden for at man kommer til at bruge en
betydningsfuld fil til swap, kræver kernen at swapfiler har en
signatur. Sådan en kan vi give vores fil fra før med kommandoen
<command>mkswap /swap</command>.
</para>

<para>
Nu hvor vores swapfil er klar til brug, kan vi fortælle kernen at den
må bruge filen som swap. Det gøres med kommandoen <command>swapon
/swap</command>. Hvis du er sikker på at en swapfil ikke er i brug -
eller hvis du har flere at de andre kan dække behovet - (tjek med
<command>free</command>), kan du bede kernen om at holde op med at
bruge filen som swap med kommandoen <command>swapoff /swap</command>.
</para>

<para>For at få brugt swapfilen efter hver genstart, skal du tilføje
følgende linie til <filename>/etc/fstab</filename>:
<programlisting>
/swap		none		swap	sw				0 0
</programlisting>
</para>

<para>
Hvis din distribution insisterede på at lave en swappartition kan du ved
at fjerne den tilhørende linie i <filename>/etc/fstab</filename>, få
kernen til at lade være med at bruge den for fremtiden (brug
<command>swapoff</command> for at få kernen til at holde op med at bruge
den med det samme).
</para>
</sect1> <!-- swapfiler -->

<sect1 id="fdisk">
<title>Anvendelse af fdisk</title>
<indexterm><primary>fdisk</primary></indexterm>

<para> Hvis du har brug for at partitionere en disk på et tidspunkt
efter installation, så er <command>fdisk</command> et stabilt værktøj.
Skriv som "root" <command>fdisk</command> og du kan få hjælp ved at trykke
<filename>m</filename>.
</para>

<para>
Advarsel: Hvis du ikke har forstået, hvordan diskpartitioner fungerer,
skal du passe meget på. Kommer du til at lave ulykker med fdisk,
kan du komme til at miste kontakten med andre partitioner på din
harddisk. Er du i tvivl, er det meget klogt, at du starter med at trykke
<filename>p</filename> og skrive ned (ja, på papir som i gamle dage),
hvad du får vist på skærmen.
</para>


<para>
I <command>fdisk</command>: Tryk <filename>p</filename> for at se, hvordan din
partitionstabel ser ud. Hvis du har været igennem <command>fips</command>,
har du en ny partition <filename>/dev/hda2</filename>, som er af typen
"DOS 16-bit >=32M". Du skal tilsvarende have en partition
<filename>/dev/hda1</filename> af typen "DOS 16-bit >=32M", som
indeholder din gamle Windows-partition - tjek om størrelsen stemmer!
Du skal starte med at slette den ekstra partition - sikkert
<filename>/dev/hda2</filename> - tryk <command>d</command> og 
<command>2</command>, hvis du er sikker på, hvad du laver. 
Ellers spørg i din nærmeste Linux-brugergruppe.</para>

<para>
Skab mindst to nye Linux-partitioner ved at trykke
<filename>n</filename> og partitionsnummer. Dette skal du gøre to
gange med partition 2 hhv. 3 (hvis du kun har en enkelt Windows-partition i
forvejen). Lav partition 2 stor og partition 3 på måske 40 Mb til swap.
Default type er "Linux native". En af partitionerne (nummer 3) skal have
ændret type til Linux swap, hvilket gøres ved at trykke
<filename>t</filename> og vælge type 82 (Linux swap). Tryk
<filename>p</filename> for at verificere at disken har den ønskede
opbygning. Den simpleste partitionsopbygning er som følger (ikke
alle dele af harddisken er udnyttet i eksemplet):
</para>

<programlisting>
Command (m for help): <userinput>p</userinput>

Disk /dev/hda: 16 heads, 63 sectors, 4092 cylinders
Units = cylinders of 1008 * 512 bytes

Device   Boot  Begin Start   End Blocks   Id  System
/dev/hda1   *      1     1  1016 512032+   6  DOS 16-bit >=32M
/dev/hda2       1017  1017  1626 307440   83  Linux native
/dev/hda3       3072  3960  4092  67000+  82  Linux swap
</programlisting>



<para>
Et eksempel på en mere avanceret partitionstabel kan være det
følgende. Det skal bemærkes, at den fortløbende nummerering af
partitionerne ikke er nødvendig. Desuden kan det bemærkes, at
<filename>hda1</filename> til <filename>hda4</filename>
er numrene for primære eller udvidede partitioner, og at partitioner i
den udvidede partition får numrene 5 og opefter. Der kan maksimalt
være 4 partitioner, hvoraf én kan være udvidet. Linux kan i
princippet placeres på en vilkårlig partition. Bemærk, at enkelte
laptops bryder med dette.
</para>

<programlisting>
Command (m for help): <userinput>p</userinput>

Disk /dev/hda: 16 heads, 63 sectors, 4092 cylinders
Units = cylinders of 1008 * 512 bytes

Device   Boot  Begin Start   End Blocks   Id  System
/dev/hda1   *      1     1  1016 512032+   6  DOS 16-bit >=32M
/dev/hda2       1017  1017  1626 307440    6  DOS 16-bit >=32M
/dev/hda3       1024  1627  2439 409752   83  Linux native
/dev/hda4       2048  2440  4092 833112    5  Extended
/dev/hda5       2048  2440  3700 635512+  83  Linux native
/dev/hda6       3072  3701  3959 130504+  83  Linux native
/dev/hda7       3072  3960  4092  67000+  82  Linux swap
</programlisting>

<para> Her er to DOS-partitioner (<filename>/dev/hda1,2</filename>), tre
Linux-partitioner (<filename>/dev/hda3,5,6</filename>) og en Linux swap-partition
 (<filename>/dev/hda7</filename>), og extended partitionstabel er
anvendt (<filename>/dev/hda4</filename>). Du kan nøjes med at have et
antal DOS (vfat) partitioner og så en Linux-partition, samt en Linux swap-partition.
</para>

<para>
Afslut <command>fdisk</command> med at trykke <filename>w</filename>
for "write to disk". (Du kan i øvrigt altid afslutte uden at gemme i
<command>fdisk</command> ved at trykke
<filename>q</filename>). Derefter vælges <filename>Done</filename>.
</para>
</sect1>


</chapter>
