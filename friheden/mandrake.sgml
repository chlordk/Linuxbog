<!-- $Id$ -->
<!-- Lav skærmskud med F2 og se i /root/DrakX-screenshots bagefter -->
<!-- http://www.sslug.dk/emailarkiv/bog/2001_09/msg00060.html -->
<chapter id="installmandrake">
<title>Installation af Mandrake Linux 9.0</title>
<para>
<indexterm><primary>Mandrake</primary></indexterm>
Version 9.0 er Mandrakes nyeste version. Den er meget let at 
installere, både i forhold til tidligere og i forhold til andre 
distributioner. Distributionen fra Mandrake udspringer af Red Hat, og
systemadministration er det samme for de to distributioner. Derfor
vil denne bog ikke specielt nævne Mandrake, men benytte Red Hat som en 
fællesbetegnelse.
</para>

<para>
Den gratis download-udgave af Mandrake fylder tre cd-rom'er. Find den på
f.eks. <ulink
url="http://www.linuxiso.org">http://www.linuxiso.org</ulink>.  Der er
ca.  1000 pakker med, og det er næsten helt uoverskueligt. Mandrake
giver virkelig brugeren friheden til at vælge: Der er ofte to pakker,
som giver samme funktionalitet, og det er op til brugeren selv at
vælge.
</para>

<para>
Mandrake adskiller sig generelt fra de andre distributioner ved kun at
understøtte Pentium eller senere.
</para>

 <indexterm>
  <primary>GRUB</primary>
  <secondary>startprogram</secondary>
 </indexterm>

<para>
Linux Mandrake er nok den første
mainstream-distribution, som benytter GRUB som startprogram. GRUB er
på mange måder LILO's afløser; hvilket vi er mange, der
håber. Postsystemet Postfix følger også med, og det er fra denne
bogs side anbefalet, at du installerer Postfix i stedet for
Sendmail. 
</para>

<para>
Distributionen bygger på Linux 2.4.19 kernen, men den indeholder
mange opdateringer i forhold til en standardkerne. F.eks. finder
du understøttelse af filsystemet ReiserFS og Supermount. USB er også
godt understøttet.
</para>


<para>
En rigtig god ting Mandrake 9.0 har er CUPS - som er en meget smartere 
printerhåndtering end hvad mange andre Linux-varianter har.
</para>

<para>
Mange programmeringsværktøjer er understøttet, og det er ikke kun de 
gængse som C, C++, Fortran, Perl og Python som følger med. Sprog
som Haskell 98 er også med, ligesom databaserne MySQL og PostGreSQL følger 
med.
</para>

<para>
På den grafiske side er KDE 3.0.2 med og tilsvarende GNOME 2.0.1. Begge
er rigtig gode.
</para>

<para>
Et genialt program, som kommer med Mandrake er urpmi, som anvendes
til at installere programmer med. Det sørger for at håndtere alle
afhængigheder, så eventuelle manglende programpakker også installeres
med den du vælger at installere eller opgradere.
</para>

<sect1 id="mandrake-cd-rom-install">
<title>Installation fra cd-rom</title>


<para>
Inden du gik i gang med installationen afsatte du plads til Linux. 
Det er nu, at du skal angive hvordan denne plads skal bruges. I 
<xref linkend="redhatpartitioner"> kan du læse mere om hvilke
partitioner, du skal have, og hvor meget plads du skal afsætte.
</para>

<para>
I vores gennemgang af installationen af Mandrake vil vi antage, at
du har to cd-rom'er, nemlig <emphasis>Installation</emphasis> og 
<emphasis>Extension</emphasis> (den findes dog også i en 
udgave med kun én cd-rom). Du kan hente iso-billeder af begge fra
<ulink url="http://www.linuxiso.org">http://www.linuxiso.org</ulink>.
De kan også købes fra f.eks. 
<ulink url="http://www.linuxpusher.dk">http://www.linuxpusher.dk</ulink>.
</para>

<para>
Er din computer af nyere dato vil den kunne starte fra en cd-rom. Hvis 
den ikke kan det, skal du fremstille en opstartsdiskette som forklaret i 
<xref linkend="rh-cd-rom-install">. Filen du skal bruge, hedder 
<filename>cdrom.img</filename>. Starter du din install-cd-rom i Windows har
du endda nem mulighed for at lave en eventuel startdiskette.
</para>
</sect1>

<sect1 id="mandrake-install-net">
<title>Installation over netværk</title>
<para>
Man kan installere Mandrake over netværket. Det kan spare en
del tid og kan være den eneste måde at gøre det på, hvis man ikke
har et cdrom-drev på maskinen. Se <xref linkend="mandrakeinstall"> 
om den nærmere fremgangsmåde, idet diskettefilen dog hedder "network.img" her. Denne diskette kan hentes fra
<ulink url="http://www.klid.dk/sw/mandrake/9.0/images/network.img">http://www.klid.dk/sw/mandrake/9.0/images/network.img</ulink>.
Man får en fuld grafisk installation, når den først er gået i gang,
i begyndelsen er det dog tekst-tilstand, og med amerikansk tastatur.
("/" ligger på "-"). Hvis du installerer fra KLIDs maskine er problemer
med æøå under installationen også rettet.
</para>

<para>
Danske steder der muliggør installation af Mandrake på i586 platform:
</para>

<screen>
System        diskettefil   protokol netsted            katalog
Mandrake 9.0  network.img   HTTP     klid.dk            /sw/mandrake/9.0
                            HTTP     mirrors.sunsite.dk /mandrake/9.0/i586
</screen>
</sect1>

<sect1 id="mandrakeinstall">
<title>Installation</title>
<para>
Er det din første Linux-installation bør du læse alle ledetekster med
omhu. Tja, selv om du er en erfaren Linux-bruger, bør du tage dig
tiden til at læse dem alligevel - det kan spare dig for mange 
frustrerende timer.
</para>

<para>
Under den grafiske installation du skal igennem, er det altid muligt
at komme over i konsollen ved at benytte Ctrl+Alt+F2, så man kan
genstarte maskinen eller andet, hvis installationen kører af sporet.
På de andre konsoller kan du se status for installationen.  Alt+F7
bringer dig tilbage til den grafiske installation.
</para>

<para>
Når din computer starter vises et velkomstbillede til installationen  
og du fortsætter ved at trykke 
<command>Enter</command>. Selve installationen vil foregå grafisk, men
du kan vælge at installere i tekstmodus (tast 
<command>linux text</command> lige efter det grafiske 
velkomstbillede). Hvis du intet foretager dig, går 
installationen automatisk i gang efter kort tid.
</para>


<para>
Det første grafiske installationsbillede er <xref
linkend="mandrake90lang2-fig">. På billedet
skal man bemærke venstre-siden. Her kan man se hvor langt man er
kommet med installationen. En grøn bold viser at punktet er fuldført,
en gul at dette er man igang med, mens rød ikke er fuldendt. Hvis der
er noget man ønsker at gå tilbage til under installationen trykker man
bare på den bold i venstre side man ønsker at rette.  
</para>


<para>
Vælg sprog som vist på <xref linkend="mandrake90lang2-fig">
Vi vælger her "Danish".
</para>

<figure id="mandrake90lang2-fig" float="1">
<title>Mandrake 9.0 Installation - valg af sprog</title>
<graphic fileref="Mandrake90_2.&magic;" SCALE="60"></graphic>
</figure>

<para>
Nu kommer en licensbeskrivelse - læs ... og sikkert acceptér!
</para>

<para>
Vælg nu om der skal installeres eller opgraderes. Som man kan se 
indeholder den oprindelige Mandrake 9.0 desværre ødelagte danske tegn.
Bare rolig - det kan nemt klares efter installationen.
</para>

<figure id="mandrake90type-fig" float="1">
<title>Mandrake 9.0 Installation - installationtype</title>
<graphic fileref="Mandrake90_3.&magic;" SCALE="60"></graphic>
</figure>


<para>
Din mus og derefter dit tastatur bliver nu med stor sandsynlighed
fundet automatisk, så de kan bruges under hele installationen.  Du
bliver nu spurgt om hvordan Mandrake skal installere. Vi vælger
"Brugerdefineret" for at få styr over hvad der sker. Har du kun en
harddisk til Linux alene, så er "Slet hele disken" nemt :-) 
</para>


<figure id="mandrake90insttype-fig" float="1">
<title>Mandrake 9.0 Installation - installationtype</title>
<graphic fileref="Mandrake90_4.&magic;" SCALE="60"></graphic>
</figure>

<para>
Installationsprogrammet vil nu finde de harddiske, som er til stede i
din computer. Både IDE- og SCSI-diske vil blive fundet, og
evt. drivere vil blive aktiveret. Hvis du kun har IDE-harddiske vil du
muligvis kun blive spurgt om du har SCSI-diske. Hvis du bliver mødt
med at du kan installere Mandrake Linux på en eksisterende Windows
partition, så betyder dette at Mandrake Linux vil forsøge at krypte en
eksisterende Windows partition for at skabe plads til Linux. Dette
virker med vfat-fartitioner men <emphasis>ikke</emphasis> med 
NTFS (Windows 2000 eller lign.). 
Backup af din Windows partition er aldrig dumt :-)
</para>

<PARA>
Klik på dine partitioner og vælg mindst én af dem som
<filename>/</filename> - rod-kataloget. Vælg evt. en anden som
<filename>/home</filename>.  Tryk på det hvide areal (som betyder tomt
område) for at vælge det og tryk på "create"-knappen for at skabe en
ny partition. Du skal nu vælge størrelse for partitionen (målt i Mb) -
sæt filtype til Journaliserende FS (ext3 eller ReiserFS), som er et
nyt og smartere filsystem) og mountpoint til
<filename>/</filename>. Du bør også afsætte f.eks. 256 Mb til swap
(opret dette). Vælg til sidst "Færdig".  
</PARA>


<figure id="mandrake90disk-fig" float="1">
<title>Mandrake 9.0 Installation - disklayout</title>
<graphic fileref="Mandrake90_5.&magic;" SCALE="60"></graphic>
</figure>

<para>
Du skal herefter acceptere hvilke partitioner, der skal formatteres.
</para>

<figure id="mandrake90disk2-fig" float="1">
<title>Mandrake 9.0 Installation - formattering</title>
<graphic fileref="Mandrake90_6.&magic;" SCALE="60"></graphic>
</figure>


<para>
Efter du har opdelt din harddisk og sat filsystemet op, vil dine 
Linux-partitioner blive formateret. Hvis du opdaterer, kan det være 
at der er enkelte partitioner, som ikke skal formateres - f.eks. 
<filename>/</filename>. Muligvis bliver du nu spurgt om, hvilke 
installations-cd-rom'er du har til rådighed - vælg det som passer. 
</para>

<para>
Det er nu tid til at vælge, hvilke pakker, som du ønsker
installeret. Du kan overordnet vælge mellem følgende - flyt
muse-markøren hen over et emne for at få mere beskrivelse.
</para>

<figure id="mandrake90grupper-fig" float="1">
  <title>Mandrake 9.0 Installation - Vælg grupper</title>
  <graphic fileref="Mandrake90_8.&magic;" SCALE="60"></graphic>
</figure> 


<itemizedlist mark="bullet">
<listitem> 
 <para>
  Kontor-arbejdsmaskine - KWord, abiword, kspread, gnumeric, pdf-læsere
 </para>
</listitem>
<listitem> 
 <para>
  Spillemaskine - spil
 </para>
</listitem>
<listitem> 
 <para>
  Multimedia-station - lyd og video
 </para>
</listitem>
<listitem>
 <para>
  Internet-station - Internetværktøjer til at læse post og den slags
 </para>
</listitem>
<listitem>
 <para>
  Netværksmaskine - klienter til f.eks. sikker netkommunikation (ssh)
 </para>
</listitem>
<listitem> 
 <para>
  Konfiguration - opsætningsværktøjer
 </para>
</listitem>
<listitem> 
 <para>
  Videnskabelig arbejdsstation
 </para>
</listitem>
<listitem> 
 <para>
 Konsolværktøjer - basale tekstværktøjer - tag den 
 </para>
</listitem>
<listitem> 
 <para>
  Udvikling - C/C++ oversættere og biblioteker
 </para>
</listitem>
<listitem> 
 <para>
  Dokumentation
 </para>
</listitem>
<listitem> 
 <para>
  Web/FTP - serverfunktioner
 </para>
</listitem>
<listitem> 
 <para>
  Post/diskussionsgrupper - serverfunktioner
 </para>
</listitem>
<listitem> 
 <para>
  Database - serverfunktioner
 </para>
</listitem>
<listitem> 
 <para>
  Brandmur/router - skal du beskytte din maskine på nettet så er en
  firewall en god ide at få med
 </para>
</listitem>
<listitem> 
 <para>
  DNS/NIS - serverfunktioner
 </para>
</listitem>
<listitem> 
 <para>
  Network Computer server
 </para>
</listitem>
<listitem>
 <para>
 KDE-arbejdsstation - vælg KDE og/eller GNOME - begge er gode
 </para>
</listitem>
<listitem>
 <para>
  Gnome-arbejdsstation  - vælg KDE og/eller GNOME - begge er gode
 </para>
</listitem>
<listitem>
 <para>
  Andre grafiske miljøer - IceWM, WindowMaker, Enlightenment, Fvwm
 </para>
</listitem>
</itemizedlist>

<para>
Glemmer du en pakke, gør det ikke så meget; du kan altid
installere den senere. Er du ny i Linux-verdenen, er det både
spændende og overvældende at bladre i de ca. 1000 pakker, som følger
med Mandrake 9.0, så du får et indtryk af, hvilke programmer du kan
finde.
</para>

<para>
Først vælger du overordnet, hvilke pakkegrupper der skal med i 
dit system, hvis du vil udvælge detaljeret så vælg individuelle 
pakker nederst på skærmbilledet.
</para>

<figure id="mandrake90packages-fig" float="1">
  <title>Mandrake 9.0 Installation - Vælg pakker</title>
  <graphic fileref="Mandrake90_8.&magic;" SCALE="60"></graphic>
</figure> 


<para>
Tid til kaffe - nu installeres pakkerne. 
</para>

<figure id="mandrake90-kommer-ind-fig" float="1">
  <title>Mandrake 9.0 Installation - Installationen kører</title>
  <graphic fileref="Mandrake90_9.&magic;" SCALE="60"></graphic>
</figure> 

</sect1>

<sect1 id="mandrake-efterinstallation">
<title>Efterinstallation</title>

<para>
Efter måske 15 minutter vil
du blive spurgt om at indsætte cd-rom nummer 2 (ext-skiven).
</para>

<para>
Du vil blive spurgt om du vil have adgangskontrol - brug dette med
mindre din maskine står et sikkert sted og der er en bruger på
maskinen. Det er vigtigt at systemadministratorens (root) konto er
godt beskyttet, og du skal derfor vælge en adgangskode (eng. password)
med omhu (og huske den). Se desuden <xref linkend="valg-af-password">.
</para>

<figure id="mandrake90-rootpassword-fig" float="1">
  <title>Mandrake 9.0 Installation - Sæt systemadminstrators password</title>
  <graphic fileref="Mandrake90_10.&magic;" SCALE="60"></graphic>
</figure> 


<para>
Det er ingen god idé at gøre al arbejde som root, idet denne bruger
kan alt (inkl. slette vitale systemfiler). Derfor bør du oprette
mindst én konto til almindelig brug (en konto per bruger). Igen skal
du vælge adgangskode med omhu. Du kan altid, mens Linux kører, oprette
og nedlægge brugere. Se desuden <xref
linkend="valg-af-password">. Bemærk at du kan give hver bruger eget
pingvin-logo. Tryk "Færdig" når alle brugere er oprettet.  
</para>

<para>
Du bliver herefter spurgt om der skal være en forvalgt bruger, som man
logger ind automatisk uden password. Gør kun dette hvis maskinen står
uden andre kan komme til den.
</para>

<figure id="mandrake90-brugerkonto2-fig" float="1">
  <title>Mandrake 9.0 Installation - Definer login</title>
  <graphic fileref="Mandrake90_12.&magic;" SCALE="60"></graphic>
</figure> 

<para>
Du kan herefter sætte modem- eller netværksforbindelse op.  Du skal
tale med din lokale netværksadministrator, som kan fortælle dig ting
som IP-nummer, netmaske, gateway og name server. Hvis du ikke har
noget netværk, springer du punktet over. Hvis du har en DHCP-server så
kan du anvende "Brug automatisk detektion". 
Hvis du vælger at springe dette over, så er skaden ikke større end at det
kan gøres senere.
</para>

<figure id="mandrake90-net1-fig" float="1">
  <title>Mandrake 9.0 Installation - Netværk</title>
  <graphic fileref="Mandrake90_13.&magic;" SCALE="60"></graphic>
</figure> 

<para>
Sæt IP-adresse hvis du har dette - ellers at automatisk IP
ofte ok.
</para>

<para>
Herefter kan man sætte printer op - det er typiske blot at følge
menuerne.  
</para>

<figure id="mandrake90-net2-fig" float="1">
  <title>Mandrake 9.0 Installation - Netværk</title>
  <graphic fileref="Mandrake90_15.&magic;" SCALE="60"></graphic>
</figure> 

<figure id="mandrake90-printer2-fig" float="1">
  <title>Mandrake 9.0 Installation - printer</title>
  <graphic fileref="Mandrake90_18.&magic;" SCALE="60"></graphic>
</figure> 

<figure id="mandrake90-printer3-fig" float="1">
  <title>Mandrake 9.0 Installation - printer</title>
  <graphic fileref="Mandrake90_19.&magic;" SCALE="60"></graphic>
</figure> 

<figure id="mandrake90-printer4-fig" float="1">
  <title>Mandrake 9.0 Installation - printer</title>
  <graphic fileref="Mandrake90_20.&magic;" SCALE="60"></graphic>
</figure> 

<figure id="mandrake90-printer5-fig" float="1">
  <title>Mandrake 9.0 Installation - printer</title>
  <graphic fileref="Mandrake90_21.&magic;" SCALE="60"></graphic>
</figure> 

<figure id="mandrake90-printer6-fig" float="1">
  <title>Mandrake 9.0 Installation - printer</title>
  <graphic fileref="Mandrake90_22.&magic;" SCALE="60"></graphic>
</figure> 


<para>
Herefter kommer der en oversigt over ydre enheder - skulle der være en
enhed som er fejl-detekteret, kan man nu vælge om.  Din tidszone skal
sættes op, og "Europe/Copenhagen" er den eneste by i Danmark. Angiv at
du ikke bruger GMT tidszone, hvis du har Windows installeret.  I samme
menu kan du finde en mulighed for at sætte din(e) printer(e) op.
</para>

<figure id="mandrake90-enheder-fig" float="1">
  <title>Mandrake 9.0 Installation - enheder som kan laves om.</title>
  <graphic fileref="Mandrake90_23.&magic;" SCALE="60"></graphic>
</figure> 

<para>
Installationen vil slutte med et forsøg på at konfigurere X Window
System, den grafiske brugergrænseflade. Det vil i de fleste tilfælde
lykkes, se evt. <xref linkend="nulGUIapp">, hvis noget gik galt.
Først vælges skærmen.  
</para>

<figure id="mandrake90-skaerm-fig" float="1">
  <title>Mandrake 9.0 Installation - Skærm-definition.</title>
  <graphic fileref="Mandrake90_24.&magic;" SCALE="60"></graphic>
</figure> 

<para>
Du bliver nu spurgt om du vil hente opdateringer til din 
Mandrake 9.0 - gør ikke dette, det virker ikke altid.
Samme funktionalitet kan du få efter installationen.
</para>

<figure id="mandrake90-opdatering-fig" float="1">
  <title>Mandrake 9.0 Installation - Opdatering - vælg ikke dette.</title>
  <graphic fileref="Mandrake90_25.&magic;" SCALE="60"></graphic>
</figure> 


<para>
Du burde nu kunne genstarte din maskine og køre Mandrake Linux. Tillykke!
</para>

<figure id="mandrake90-yes-fig" float="1">
  <title>Mandrake 9.0 Installation - Så er vi klar.</title>
  <graphic fileref="Mandrake90_26.&magic;" SCALE="60"></graphic>
</figure> 


<para>
Vil du på et senere tidspunkt ændre systemopsætning, så prøv (som
root) at starte <command>DrakConf</command> (se <xref
linkend="system-vedligeholdelse-mandrake">). Fra dette program kan du
styre alt med installation/afinstallation af programmer, printere,
netværk og meget mere.
</para>

</sect1>

<sect1 id="mandrake-ny-hardware">
<title>Ny hardware under Mandrake</title>
<indexterm><primary>setup</primary></indexterm>
<indexterm><primary>harddrake</primary></indexterm>
<indexterm><primary>Mandrake</primary><secondary>Ny hardware</secondary></indexterm>
<indexterm><primary>Ny hardware</primary><secondary>Mandrake</secondary></indexterm>
<para>
Mandrake har en god håndtering af nye hardware-enheder, langt de
fleste enheder vil blive fundet automatisk når disse kobles ind på
systemet og maskinen genstartes. Der kan dog være problemer,
f.eks. med at finde en ny mus, hvilket er ret centralt i en grafisk
bruger-grænseflade. Hvis man har det problem så kan man logge ind som
root i tekst-mode og skrive <command>setup</command>. Vælg den mus du
har og gem. Genstart maskinen og man er klar igen. Er det ikke lige
musen eller grafikkortet der er udbyttet kan man også klare
problemerne grafisk under Mandrake ved at køre
<command>harddrake</command> som er en grafisk overbygning på
<command>setup</command>.
</para>
</sect1>


<sect1 id="kendte-fejl-mandrake">
<title>Kendte fejl med Mandrake 9.0</title>
<para>
Her er et par kendte fejl i Mandrake 9.0, som alle kan ses på
<ulink url="http://www.mandrakesecure.net/en/advisories/updates.php?dis=9.0">http://www.mandrakesecure.net/en/advisories/updates.php?dis=9.0</ulink>.
</para>

<para>
Danske æ, ø og å-tegn var ødelagte ved den oprindelige Mandrake 9.0
under installation. Man kan dog installere over netværk som beskrevet og
her er æøå-problemerne rettet. Efter man har opdateret pakker så er problemerne
væk.  Hvis dette alligevel ikke er tilfældet kan man installerer pakken 
<ulink url="http://klid.dk/sw/mandrake/updates/9.0/RPMS/danish_mo-1.0-1.i586.rpm">http://klid.dk/sw/mandrake/updates/9.0/RPMS/danish_mo-1.0-1.i586.rpm</ulink>,
fx via kommandoen:
<screen>
rpm -i --force http://klid.dk/sw/mandrake/updates/9.0/RPMS/danish_mo-1.0-1.i586.rpm
</screen>
</para>

<para>
Pine 4.50 kan oversættes og fungerer fint. Tidligere versioner
fungerer ikke optimalt (kræver at man anvender Ctrl-tasten når der
skal vælges med musen).  
</para>

</sect1>
</chapter>
