<!-- $Id$ -->
<chapter id="distro-adamantix">
<title>Om Adamantix</title>


<para>
Adamantix (tidligere kaldet "Trusted Debian") er en Linux distribution
med fokus på sikkerhed indbygget i operativsystemet.

Bl.a er adamantix kerne og pakker kompileret med en speciel kompiler der
beskytter mod visse stack overflows. Desuden benyttes en kernel patch
der holder kode og data adskilt.
</para>

<para>
Det er muligt at vælge en version af Adamantix med RSBAC (Rule Set Based
Access Control) men iflg. hjemmesiden skal
man vide hvad man gør, hvis man skal anvende dette. Læs mere om RSBAC på <ulink url="http://www.rsbac.org/">http://www.rsbac.org/</ulink>. Vi tester ikke
RSBAC versionen.
</para>

<para>
Adamantix laves af [HVEM?]
</para>

<para>
Adamantix' hjemmeside er
<ulink url="http://adamantix.org/">http://adamantix.org/</ulink>
</para>


<sect1 id="distro-adamantix-maalgruppe">
<title>Hvem er målgruppen for Adamantix</title>
<para>
Folk som vil have et sikkert Linux-OS, patentfrit i modsætning til
SELInux, og brugbart med X og div. applikationer. Og som ikke er bange
for Debian, eller for at rekompilere en softwarepakke selv.
</para>

<figure id="distro-adamantix-figname" float="1">
<title>Adamantix logo</title>
<graphic fileref="adamantix-logo.&magic;" scale="60"></graphic>
</figure>


</sect1>

<sect1 id="distro-adamantix-installation">
<title>Installation</title>
<para>
</para>

<sect2 id="distro-adamantix-baseinstallation">
<title>Installation af Debian basesystem</title>

<para>
Adamantix bygger på Debian, og for at installere den, skal man først
installere et debian base-system (woody) uden sikkerhedsopdateringer
eller pakker. Da Debians installationvejledning er meget indvilket,
kommer den korte udgave her:
</para>

<para>
Download følgende floppy images: 

<filename>rescue.bin</filename>
<filename>root.bin</filename>
<filename>driver-1.bin</filename>
<filename>driver-2.bin</filename>
<filename>driver-3.bin</filename>
<filename>driver-4.bin</filename>

fra f.eks. <ulink
url="ftp://ftp.dk.debian.org/dists/woody/main/disks-i386/current/images-1,44">ftp://ftp.dk.debian.org/dists/woody/main/disks-i386/current/images-1,44</ulink>, og læg dem på disketter.
</para>

<para>
Boot fra rescue.bin. Tryk enter ved boot prompten. Når den spørger efter
root.bin, indsættes denne og der trykkes enter. Man får mulighed for at
vælge keyboard, partitionere disken med cfdisk mv. 
</para>

<para>
Når man når til punktet "Install kernel and modules" beder dem først om
rescue.bin igen, og derefter de 4 driver-disketter, en ad gangen. Her
bemærkede jeg til min glæde at debian installationen ikke crasher fordi
der er fejl på een af disketterne. Den meddeler blot sine problemer og
beder om den samme diskette igen, og når man har lavet en ny diskette,
trykker man enter og den fortsætter glad.  
</para>

<para>
Nu kan man vælge moduler, hvis man har brug for nogle der ikke er med
standard. Kontrollér at driveren til dit netkort kommer med. Hvis den
ikke er på listen, er det måske fordi den er med som standard. Herefter
konfigureres netværket, og man skal vælge, hvorfra man vil installere
sit basesystem. Jeg valgte at installere fra <ulink
url="ftp://ftp.dk.debian.org/debian">ftp://ftp.dk.debian.org/debian</ulink>.

Derefter tilbyder den at køre Lilo. Så fjerner man disketten og rebooter
systemet.
</para>

<para>
Efter første reboot stiller man tiden, og vælger root password, opretter
en lokal bruger mv. Herefter begynder den at stille spørgsmål om
programpakker. Hold tungen lige i munden. Til Adamantix skal vi ikke
installere nogle debianpakker, ikke engang sikkerhedsopdateringer. 
Først tilbød den at fjerne pcmcia fordi det ikke findes på mit system.
Det sgade jeg ja til. Så skulle jeg vælge apt metode (cd, http, ftp
eller file system). Det er ligemeget for nu, hvad der vælges. Så spørger
den om security upgrades, tasksel og dselect. Svar nej til dem alle.
Til sidst tilbød den at konfigurere exim, det svarede jeg nej til.
Nu er installationen af debian base færdig, og man får en login-prompt.
</para>

</sect2>

<sect2 id="distro-adamantix-videreinstallation">
<title>Opgradering til Adamantix</title>
<para>
Indsæt en linie á la
<screen>
deb ftp://ftp.szczepanek.de/adamantix stable main contrib
</screen> 
i din <filename>/etc/apt/sources.list</filename>. Listen over mirrors
findes på <ulink
url="http://adamantix.org/mirrors.html">http://adamantix.org/mirrors.html</ulink>
</para>

<para>
Kør nu kommandoerne
<screen>
apt-get update
apt-get install libncurses5
apt-get dist-upgrade
</screen>
Den klager lidt over at pakkerne ikke er valid debian pakker [check lige
hvad den sagde], men det er nok ok, for Adamantix bliver da i hvert fald
installeret. 
</para>

<para>
På værste debian-vis spørger den om alt muligt man ikke ved
undevejs.  Dette kan muligvis slås fra. Man bliver bedt om at vælge
interface, her valgte jeg non-interactive fordi der stod, at så fik jeg
ingen spørgsmål. Derefter skal man vælge, hvor kritisk et spørgsmål skal
være før man vil se det. Her valgte jeg dumt nok "medium", fordi jeg
troede jeg allerede havde valgt spørgsmålene fra. havde jeg valgt
"Critical" her var det nok gået bedre. Under alle omstændigheder er der
ikke så mange pakker der skal installeres når det kun er et basesystem,
man opgraderer.
</para>

<para>
Vi er ikke færdige med at installere Adamantix, før vi også har fået en
ny kerne.
<screen>
apt-get install kernel-image-2.4.22-1-386
</screen>
Der var ikke nogen 2.4.23 images. Jeg ved ikke om den kernefejl der var
for nylig findes i Adamantix kerner og om rettelsen i så fald er
back-ported. Der er kerner med -soft og -sec endelser. Lad dem være,
medmindre du har læst mere om Adamantix end jeg har.
Apt-get advarer om at det er en initrd kerne, det betyder at man skal
indsætte flg. linie i sin <filename>/etc/lilo.conf</filename>:
<screen>initrd=/initrd.img</screen>
og derefter køre
<screen>/sbin/lilo</screen>
</para>

<para>
Reboot systemet, og du kører Adamantix!
</para>

</sect2>


</sect1>

<sect1 id="distro-adamantix-brug">
<title>Brugen af Adamantix</title>
<para>
En standard installation af Adamantix svarer til Debian base, hvilket
vil sig at der næsten ikke er installeret nogen programmer. Jeg startede
med at installere X. Det viste sig at det kun findes i unstable.
Allerede her begyndte min mistanke om at Adamantix nok ikke er verdens
mest færdige produkt, selvom de slynger om sig med store ord på deres
webside.

For at hente pakker fra testing eller unstable skal een af de to flg. linier
indsættes i /etc/apt/sources.list:
<screen>
deb ftp://ftp.szczepanek.de/adamantix testing main contrib
deb ftp://ftp.szczepanek.de/adamantix unstable main contrib
</screen>
Det står selvfølgelig frit for at benytte et andet mirror fra <ulink
url="http://adamantix.org/mirrors.html">http://adamantix.org/mirrors.html</ulink>.
Det var ikke helt nemt at få alle de ting med X kræver, måske var der en
slags "task-X" men den kunne jeg i så fald ikke finde. 
Efter lidt
forskelligt gætteri og apt-getteri, fik jeg dog X til at virke. 
Jeg kan nævne xlibs, xfree86-common, xbase-clients, samt diverse xfonts.
Husk at genstarte xfs. Der er
ikke noget X konfigurationsprogram med, men en at de installerede pakker havde
lagt en <filename>/etc/X11/XF86Config</filename> fil, som blot skulle
rettes lidt til. Den eneste Window manager jeg kunne finde var twm. Husk
også at installere xterm og ssh.
</para>

<para>
</para>

</sect1>

<sect1 id="distro-adamantix-pakker">
<title>Installation af ekstra programmel</title>
<para>
Adamantix kører apt-get ligesom Debian. Hvis der er en pakke der ikke er
i Adamantix' apt repository, kan man installere source-pakken fra woody,
og selv rekompilere den Adamantix kompileren. Se <ulink
url="http://adamantix.org/development.html">http://adamantix.org/development.html</ulink>.
</para>

</sect1>


<sect1 id="distro-adamantix-killer">
<title>Killer-feature</title>
<para>
Sikkerhed
</para>

</sect1>


<sect1 id="distro-adamantix-vurdering">
<title>Samlet vurdering af Adamantix</title>
<para>
Det er ikke særlig klart, hvordan Adamantix håndterer
sikkerhedsopdateringer f.eks. til Linuxkernen. Der var ikke nogen
opdateret version der fixede 1. december fejlen.  Det kan tænkes at
skyldes at Adamantix ikke er sårbar over for denne, men så burde det stå
på deres hjemmeside. Deres hjemmeside er i det hele taget ikke særlig
informativ.
</para>

<para>
Efter gantagne forsøg er det endnu ikke lykkedes mig at finde ud af hvem
der laver Adamantix, hvem der startede det, eller hvem der bestemmer hvad der
kommer med ind. Til gengæld står der på deres hjemmeside at de går ind
for fuld åbenhed...
</para>

<para>
Adamantix er sjov at lege med, fordi det er Debianbaseret, og Debian er
sjov at lege med. Adamantix' fokus på sikkerhed og beskyttelse mod stack overflows gør det kun sjovere - hvis man kan lide udfordringer. Jeg
kan dog ikke anbefale at køre Adamantix i produktion i den tro at den er
mere sikker end andre distroer, medmindre du selv er sikkerhedshaj og
ved præcis hvad du gør. Hvis Adamantix en dag bliver mere færdigt,
begynder at holde hvad de lover på deres forside, og bliver mere
gennemskueligt mht. sikkerhedspatches, bliver det sikkert et spændende
system en dag. Hvis ikke det for længst er blevet overhalet indenom af
noget bedre.
</para>

</sect1>


</chapter>
